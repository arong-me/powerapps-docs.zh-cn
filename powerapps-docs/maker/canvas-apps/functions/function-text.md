---
title: Text 函数 | Microsoft 文档
description: PowerApps 中 Text 函数的引用信息（包括语法和示例）
author: gregli-msft
manager: kvivek
ms.service: powerapps
ms.topic: reference
ms.custom: canvas
ms.reviewer: anneta
ms.date: 11/14/2018
ms.author: gregli
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: 67c0e83245b60345f74912f2f005295c94cc0dd1
ms.sourcegitcommit: aa9f78c304fe46922aecfe3b3fadb6bda72dfb23
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/24/2019
ms.locfileid: "66215952"
---
# <a name="text-function-in-powerapps"></a>PowerApps 中的 Text 函数
将转换的任何值，并设置数字或日期/时间值的文本字符串的格式。

## <a name="description"></a>描述
**Text** 函数根据下面的一种参数类型设置数字或日期/时间值的格式：

* 预定义的日期/时间格式，可使用 **DateTimeFormat** 枚举指定。 对于日期和时间，这种方法是首选，因为它自动调整为每个用户的语言和区域。
* 自定义格式，其中包括定义，例如，数字显示小数点分隔符和日期显示月份、 月为缩写形式或为数字的月份的完整名称的占位符的字符串。 PowerApps 支持 Microsoft Excel 支持的一部分占位符。 在此字符串中，语言占位符指定用来解释其他占位符的语言。 如果自定义格式中包含句点，例如，语言格式占位符指定段是一个十进制分隔符 (JA-JP) 或千位分隔符 (ES-ES)。

有关详细信息，请参阅[处理日期和时间](../show-text-dates-times.md)。

**文本**函数还可以将任何数据类型转换为使用默认格式的文本表示形式。 用于如将非文本值传递到基于文本的函数[ **Len**](function-len.md)， [**右**](function-left-mid-right.md)，并[ **IsMatch**](function-ismatch.md)。

### <a name="predefined-datetime-formats"></a>预定义的日期/时间格式

| 预定义的格式 | 描述 |
| --- | --- |
| **DateTimeFormat.LongDate** |完整的年份、月份、相应月份中的多少号和星期几。 月份名称和星期几不采用缩写形式。 |
| **DateTimeFormat.LongDateTime** |完整的年份、月份、相应月份中的多少号和星期几，外加时（12 小时制）、分、秒和 AM/PM 标记。 月份名称和星期几不采用缩写形式。 |
| **DateTimeFormat.LongDateTime24** |完整的年份、月份、相应月份中的多少号和星期几，外加时（24 小时制）、分和秒。 月份名称和星期几不采用缩写形式。 |
| **DateTimeFormat.LongTime** |时（12 小时制）、分、秒和 AM/PM 标记。 与 ShortTime 相同。 |
| **DateTimeFormat.LongTime24** |时（24 小时制）、分和秒。 与 ShortTime24 相同。 |
| **DateTimeFormat.ShortDate** |四位数的年份和两位数的月份及相应月份中的多少号。 |
| **DateTimeFormat.ShortDateTime** |四位数的年份和两位数的月份及相应月份中的多少号，外加时（12 小时制）、分、秒和 AM/PM 标记。 |
| **DateTimeFormat.ShortDateTime24** |四位数的年份和两位数的月份及相应月份中的多少号，外加时（24 小时制）、分和秒。 |
| **DateTimeFormat.ShortTime** |时（12 小时制）、分、秒和 AM/PM 标记。  与 LongTime 相同。 |
| **DateTimeFormat.ShortTime24** |时（24 小时制）、分和秒。  与 LongTime24 相同。 |
| **DateTimeFormat.UTC** |根据当前用户所在的时区将日期/时间值转换为 UTC，并根据 ISO 8601 标准设置格式。 |

### <a name="number-placeholders"></a>数字占位符

| 占位符 | 描述 |
| --- | --- |
| **0**（*零*） |如果数字的位数少于包含零的格式中的位数，显示无意义的零。 例如，如果要将 **8.9** 显示为 **8.90**，请使用 **#.00** 格式。 |
| **#** |与 **0**（零）的规则相同。 不过，如果数字的小数点前/后位数少于包含 # 符号的格式中的位数，**Text** 不返回多余的零。 例如，如果自定义格式为 **#.##** ，而要设置格式的数字为 **8.9**，则显示的是 **8.9**。 |
| **.** （*句点*） |在数字中显示小数点。 取决于语言的自定义格式;请参阅[全局应用](#global-apps)的更多详细信息。 |
| **,** （*逗号*） |在数字中显示分组分隔符，通常是千位分隔符。 如果格式中的逗号的前后是数字记号 ( **#** ) 或零，**Text** 使用逗号分隔各组。 取决于语言的自定义格式;请参阅[全局应用](#global-apps)的更多详细信息。 |

如果数字的小数点后面的位数多于包含占位符的格式中的位数，则数字四舍五入为与占位符相同的位数。 如果小数点前面的位数多于包含占位符的格式中的位数，则显示多余的位数。 如果格式中小数点前面仅包含数字记号 (#)，则小于 1 的数字以小数点开头（例如， **.47**）。

### <a name="date-and-time-placeholders"></a>日期和时间占位符

|   占位符    |   描述                                                  |
|------------------|----------------------------------------------------------------|
|  **m**   |   将月份显示为不带前导零的数字。               |
|  **mm**  |   视情况将月份显示为带前导零的数字。 |
|  **mmm** |   以缩写形式（**Jan** 到 **Dec**）显示月份。          |
|                                                                                                   **mmmm**                                                                                                   |                                                                          以全称形式（**January** 到 **December**）显示月份。                                                                           |
|                                                                                                    **d**                                                                                                     |                                                                                将日期显示为不带前导零的数字。                                                                                 |
|                                                                                                    **dd**                                                                                                    |                                                                         视情况将日期显示为带前导零的数字。                                                                          |
|                                                                                                   **ddd**                                                                                                    |                                                                              以缩写形式（**Sun** 到 **Sat**）显示日期。                                                                              |
|                                                                                                   **dddd**                                                                                                   |                                                                            以全称形式（**Sunday** 到 **Saturday**）显示日期。                                                                            |
|                                                                                                    **yy**                                                                                                    |                                                                                      将年份显示为两位数的数字。                                                                                       |
|                                                                                                   **yyyy**                                                                                                   |                                                                                      将年份显示为四位数的数字。                                                                                      |
|                                                                                                    **h**                                                                                                     |                                                                                将小时显示为不带前导零的数字。                                                                                |
|   **hh** | 视情况将小时显示为带前导零的数字。 如果格式中包含 **AM** 或 **PM**，以 12 小时制显示小时。 如果不包含，以 24 小时制显示小时。 | 
|  **m**   |   将分显示为不带前导零的数字。<br><br>此占位符必须紧跟**h**或**hh**代码，或后面紧跟**ss**代码; 否则为**文本**返回而不是分月份。  |    
| **mm**   | 视情况将分显示为带前导零的数字。<br><br>此占位符必须紧跟**h**或**hh**占位符，或后面紧跟**ss**占位符。 否则为**文本**返回月份，而不是分。 |                                                                                                                   
| **s**   |  将秒显示为不带前导零的数字。  |
| **ss**  | 视情况将秒显示为带前导零的数字。                                                                        |
|                                                                                                    **f**                                                                                                     |                                                                                         显示秒的小数部分。                                                                                          |
|                                                                                    **AM/PM**， **/ p**                                                                                    |               以 12 小时制显示小时。 **文本**返回"AM"或"a"的时间从午夜到正午和"PM"或"p"从正午到午夜的时间                |

### <a name="literal-placeholders"></a>文本占位符
可以在格式字符串中添加以下任意字符。  这些字符将按原样显示在 **Text** 结果中。 其他字符留待用于以后的占位符，因此不得使用其他字符。

| 字符 | 描述 |
| --- | --- |
| 任意货币符号 |美元符号、分币符号、欧元符号等 |
| **+** |正号 |
| **(** |左小括号 |
| **:** |冒号 |
| **^** |扬抑符（脱字号） |
| **'** |撇号 |
| **{** |左花括号 |
| **<** |小于号 |
| **=** |等于号 |
| **-** |负号 |
| **/** |左斜线 |
| **)** |右小括号 |
| **&** |& 号 |
| **~** |波形符 |
| **}** |右花括号 |
| **>** |大于号 |
| &nbsp; |空格字符 |

## <a name="global-apps"></a>全局应用
**Text** 函数具有全局感知能力。 对于各种语言，此函数都能确定如何正确写出日期、时间、货币和数字。 它需要获取以下两条信息才能正常运行：

* **自定义格式的语言：** 有关创建者，如何自定义格式解释？ 分隔符（ **.**  和 **,** ）的含义因语言而异。 如果指定自定义格式，可以包括语言占位符或采用默认值，这反映了你的设备设置的语言。 过程更容易，可以使用之一[预定义的日期/时间格式](#predefined-datetime-formats)，这都与语言无关。
* **结果的语言：** 对于用户，在何种语言应函数结果显示？ 月份和工作日的名称必须是应用程序，可通过添加第三个可选参数指定的用户的相应语言**文本**函数。 

通过使用，两个指定的语言[语言标记](function-language.md#language-tags)。 若要查看支持的语言的列表，请键入**文本 (1234，""，)** 在编辑栏中或**高级**选项卡的右侧窗格中，，然后滚动浏览的区域设置适用于第三个参数的建议列表。

### <a name="language-placeholder"></a>语言占位符
若要指定自定义格式的语言，请使用：

| 占位符 | 描述 |
| --- | --- |
| **[$-LanguageTag]** |*LanguageTag* 是 **Language** 函数返回的语言标记。 它可以指定只包含语言 (如 **[$-en]** 英语)，或它还可以指定在区域 (如 **[$-EN-GB]** 若要进一步指定英国)。 |

语言占位符可以显示在自定义格式中的任意位置，但只能出现一次。

如果指定不带语言占位符的自定义格式，其格式为不明确，从全局角度来看，会自动插入当前语言的语言标记。  

**[$-EN-US]** 假定此占位符如果不的存在您的应用程序运行时。 

> [!NOTE]
> 在未来版本中，此占位符的语法可能会变化，以免与 Excel 支持的相似，但不同，占位符混淆。

### <a name="result-language-tag"></a>结果语言标记
结果**文本**包含几个月、 工作日和 AM/PM 标记，以及相应的组和十进制分隔符的已翻译的字符串。

默认情况下，**Text** 使用应用用户的语言。 **Language** 函数返回当前用户的语言标记。 可以通过提供的第三个参数的语言标记来替代此默认值**文本**。

## <a name="syntax"></a>语法
**Text**( *NumberOrDateTime*, *DateTimeFormatEnum* [, *ResultLanguageTag* ] )

* *NumberOrDateTime* -必需。 要设置格式的数字或日期/时间值。
* *DateTimeFormat* - 必需。  **DateTimeFormat** 枚举的成员。
* *ResultLanguageTag* - 可选。 要对结果文本使用的语言标记。 默认使用当前用户的语言。

**Text**( *NumberOrDateTime*, *CustomFormat* [, *ResultLanguageTag* ] )

* *Number* - 必需。 要设置格式的数字或日期/时间值。
* *CustomFormat* - 必需。 用双引号括起的一个或多个占位符。
* *ResultLanguageTag* - 可选。 要对结果文本使用的语言标记。 默认使用当前用户的语言。

**Text**( *AnyValue* )

* *AnyValue* -必需。 要转换为文本表示形式的值。 使用默认格式。

## <a name="examples"></a>示例
除非另行指定，否则运行这些公式的用户位于美国，并且已选择英语作为其语言。  **Language** 函数返回的是“en-US”。

### <a name="number"></a>Number

| 公式 | 描述 | 结果 |
| --- | --- | --- |
| **Text(&nbsp;1234.59,&nbsp;"####.#"&nbsp;)** |将数字格式设置为包含一个小数位。 |"1234.6" |
| **Text(&nbsp;8.9,&nbsp;"#.000"&nbsp;)** |根据需要，为数字的小数部分补充结尾零。 |"8.900" |
| **Text(&nbsp;0.631,&nbsp;"0.#"&nbsp;)** |根据需要，为数字的整个部分补充前导零。 |"0.6" |
| **Text(&nbsp;12,&nbsp;"#.0#"&nbsp;)**<br>**Text(&nbsp;1234.568,&nbsp;"#.0#"&nbsp;)** |为数字的小数部分补充一个小数位的零，并包含第二个小数位（若有）。 |"12.0"<br>"1234.57" |
| **Text(&nbsp;12000,&nbsp;"$ #,###"&nbsp;)**<br>**Text(&nbsp;1200000,&nbsp;"$&nbsp;#,###"&nbsp;)** |每三位数添加一个千位分隔符，并添加货币符号。 |"$&nbsp;12,000"<br>"$&nbsp;1,200,000" |

### <a name="datetime"></a>日期/时间
* **2015 年 11 月 23 日（星期一）** **2:37:47 PM**
* 美国太平洋时区 (UTC-8)

| 公式 | 描述 | 结果 |
| --- | --- | --- |
| **Text( Now(), DateTimeFormat.LongDate )** |设置为长日期字符串格式，采用当前用户的语言和区域设置。 |"Monday, November 23, 2015" |
| **Text( Now(), DateTimeFormat.LongDateTime )** |设置为长日期和时间字符串格式，采用当前用户的语言和区域设置，使用 12 小时制。 |"Monday, November 23, 2015 2:37:47 PM" |
| **Text( Now(), DateTimeFormat.LongTime24 )** |设置为长时间字符串格式，使用 24 小时制。 |"14:37:47" |
| **Text( Now(), DateTimeFormat.ShortDate )** |设置为短日期字符串格式，采用当前用户的语言和区域设置。 |"11/23/2015" |
| **Text( Now(), "d-mmm-yy" )** |使用占位符的格式： <ul><li>**d** 表示相应月份中的多少号，一位数或两位数<li>**-** 是复制到结果中的文本字符<li>**mmm** 表示三个字母的月份缩写<li>**-** 是另一个复制到结果中的文本字符<li>**yy** 表示两位数的年份缩写</ul> |"23-Nov-15" |
| **Text(1448318857*1000, "mmm. dd, yyyy (hh:mm:ss AM/PM)")** | 如果源值乘以 1,000 以用户可读格式显示 Unix 日期时间值。 | "11 月 23日，2015 (02:47:37 PM)" |

### <a name="global-apps"></a>全局应用

| 公式 | 描述 | 结果 |
| --- | --- | --- |
| **Text(1234567.89, "[$-fr-FR]# ###,## &euro;", "fr-FR")** | 显示作为分组分隔符，逗号作为小数分隔符，空格和**&euro;** 作为货币符号。 |"1&nbsp;234&nbsp;567,89 &euro;" |
| **Text(1234567,89; "[$-fr-FR]# ###,## &euro;")** | 如果源数据后跟使用逗号作为小数分隔符的法语的自定义，必须将您的区域设置更改为法语，并使用而不是一个逗号，若要获取与上述相同的结果以分号分隔的参数。 |"1&nbsp;234&nbsp;567,89 &euro;" |
| **Text( Date(2016,1,31), "dddd mmmm d" )** |以当前用户的语言返回星期几、月份和相应月份中的多少号。 由于所有占位符都与语言无关，因此无需使用格式文本语言标记。 |"星期六&nbsp;年 1 月&nbsp;31" |
| **Text( Date(2016,1,31), "dddd mmmm d", "es-ES" )** |以“es-ES”语言返回星期几、月份和相应月份中的多少号。 |"domingo&nbsp;enero&nbsp;31" |

### <a name="converting-values-to-text"></a>将值转换为文本

| 公式 | 描述 | 结果 |
| --- | --- | --- |
| **Text(&nbsp;1234567.89&nbsp;)** | 将数字转换为字符串。 有没有千位分隔符或控制的数字位数之前或之后的十进制分隔符;更多控制，作为第二个参数中提供数字占位符。 | "1234567.89" |
| **Text(&nbsp;DateTimeValue(&nbsp;"01/04/2003"&nbsp;)&nbsp;)** | 将日期/时间值转换为文本字符串。 若要控制之间的转换，提供的 DateTimeFormat 枚举成员，或者自定义格式字符串。 | "2003 年 1 月 4 日上午 12:00" |
| **Text(&nbsp;true&nbsp;)** | 一个布尔值转换为字符串。 | "true" |
| **Text(&nbsp;GUID()&nbsp;)** | 将生成的 GUID 值转换为字符串。  | "f8b10550-0f12-4f08-9aa3-bb10958bc3ff" |
| **Left(&nbsp;Text(&nbsp;GUID()&nbsp;),&nbsp;4&nbsp;)** | 返回生成的 GUID 的前四个字符。 | "2d9c" | 
