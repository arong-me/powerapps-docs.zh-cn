---
title: 在 PowerApps 中使用解决方案 | MicrosoftDocs
description: 了解解决方案的分布方式
ms.custom: ''
ms.date: 01/28/2019
ms.reviewer: ''
ms.service: powerapps
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- powerapps
author: Mattp123
ms.assetid: ece68f5f-ad40-4bfa-975a-3e5bafb854aa
caps.latest.revision: 55
ms.author: matp
manager: kvivek
search.audienceType:
- maker
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: da6b44c4755fa42d6e946cfe5955bba0e78b91c2
ms.sourcegitcommit: 4042388fa5e7ef50bc59f9e35df330613fea29ae
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/23/2019
ms.locfileid: "65038596"
---
# <a name="solutions-overview"></a>解决方案概述  

  在 PowerApps 中，解决方案可用于将应用和组件从一个环境传输到另一个环境，也可用于将一组自定义项应用于现有应用。 解决方案可以包含一个或多个应用，以及其他组件（如实体、选项集等）。可以从 [AppSource](https://appsource.microsoft.com/) 或独立软件供应商 (ISV) 处获取解决方案。
  
详细信息：[白皮书：解决方案生命周期管理](https://www.microsoft.com/en-us/download/details.aspx?id=57777)  
  
> [!NOTE]
>  如果你是 ISV 并且创建要分发的应用，则需使用解决方案。 若要详细了解如何使用解决方案，请参阅[开发人员指南：解决方案简介](/powerapps/developer/common-data-service/introduction-solutions)。  
  
 如果对创建供组织使用的 PowerApps 应用或自定义 Dynamics 365 for Customer Engagement 应用感兴趣，有必要了解以下有关解决方案的内容：  
  
-   也可创建解决方案。 可直接在 PowerApps 环境中构建或自定义应用，完全无需创建解决方案。  
  
-   如果直接自定义 PowerApps 环境，而不创建任何解决方案，使用的是特殊解决方案“Common Data Service 默认解决方案”。 此解决方案包含在 PowerApps 环境中进行的所有自定义项。  
  
-   还有另一个特殊解决方案，称为“默认解决方案”。 此解决方案包含系统中的所有组件（无论是由你，还是由其他任何人创建）。 可以导出“默认解决方案”，以备份在组织中定义的自定义项。 这是一个好做法，可以在最坏的情况下备份更改。  
  
<a name="BKMK_SolutionComponents"></a>   
### <a name="components"></a>组件  
 组件表示可自定义的内容。 解决方案中可包含的任何内容都是组件。 下面列出了可以在解决方案中看到的组件：  
  
-   应用程序功能区  
  
-   项目模板  
  
-   业务规则  

-   画布应用 
  
-   图表  
  
-   连接角色  
  
-   合同模板  
 
-   自定义控件
  
-   仪表板  
  
-   电子邮件模板  
  
-   实体  
  
-   实体关系  
  
-   字段  
  
-   字段安全配置文件  

-   流
  
-   窗体  
  
-   邮件合并模板  
  
-   消息  

-   模型驱动应用
  
-   选项集  
  
-   插件程序集  
  
-   流程  
  
-   SDK 消息处理步骤  
  
-   安全角色  
  
-   服务终结点  
  
-   站点地图  

-   虚拟实体数据提供程序

-   虚拟实体数据源
  
-   Web 资源  
  
 一些组件嵌套在其他组件中。 例如，实体包含窗体、视图、图表、字段、实体关系、消息和业务规则。 每个组件都要求有现有实体。 字段不能位于实体之外。 我们称之为字段依赖于实体。 实际上，组件的类型数是上面列表的两倍，但大多数组件不嵌套在其他组件中，也不在应用中可见。  
  
 拥有组件的目的是，跟踪对使用托管属性和所有依赖项可自定义的内容的任何限制，以便能够将内容导出、导入和（在托管解决方案中）完全删除。  
  
<a name="BKMK_ManagedAndUnmanagedSolutions"></a>   
### <a name="managed-and-unmanaged-solutions"></a>托管和非托管解决方案  
 解决方案分为托管和非托管两类。 托管解决方案可以进行修改，也可以在导入后进行卸载。 卸载解决方案后，该解决方案的所有组件都将删除。  
  
 如果导入非托管解决方案，就是将此解决方案的所有组件都添加到环境中。 不能通过卸载解决方案来删除组件。  
  
 如果你导入包含你已自定义的组件的非托管解决方案，已导入非托管解决方案中的自定义项会覆盖你的自定义项。 此操作无法撤消。  
  
> [!IMPORTANT]
>  仅当要将所有组件都添加到环境中，并覆盖任何现有自定义项时，才安装非托管解决方案。  
  
 即使不打算分发应用或自定义项，也建议创建并使用非托管解决方案，以获得仅包括你自定义的应用部分的独立视图。 无论何时自定义内容，只需将内容添加到创建的非托管解决方案中。  
  
 只能将“默认解决方案”导出为非托管解决方案。  
  
 若要创建托管解决方案，请在导出解决方案时，选择“作为托管”选项。 如果创建的是托管解决方案，就无法将它重新导入用于创建它的同一环境。 只能将它导入其他环境。  
  
<a name="BKMK_HowSolutionsAreApplied"></a>   
### <a name="how-solutions-are-applied"></a>如何应用解决方案  
 所有解决方案都作为层进行评估，以确定应用的实际操作。 下图展示了如何评估托管和非托管解决方案，以及这些解决方案中的更改如何反映在环境中。  
  
 ![解决方案分层](media/solution-layering.png "解决方案分层")  
  
 从底部到顶部：  
  
 **系统解决方案**  
 系统解决方案类似于每个环境都有的托管解决方案。 系统解决方案包含系统中的所有现成组件。  
  
 **托管解决方案**  
 托管解决方案可修改系统解决方案组件和添加新组件。 如果安装了多个托管解决方案，则首先安装的解决方案位于后安装的托管解决方案的下方。 这意味着安装的第二个解决方案可自定义在它之前安装的那个解决方案。 当两个托管解决方案的定义发生冲突时，一般规则是“后者至上”。 如果卸载托管解决方案，则其下方的托管解决方案将生效。 如果卸载所有托管解决方案，则会应用系统解决方案中定义的默认行为。  
  
 **非托管自定义项**  
 非托管自定义项是指，通过非托管解决方案对环境所做的任何更改。 系统解决方案使用托管属性定义可自定义或无法自定义的内容。 托管解决方案的发布者同样可以限制你自定义他们在解决方案中添加的解决方案组件的能力。 对于不具有防止其被自定义的属性的解决方案组件，可对任何此类组件进行自定义。  
  
 **应用程序行为**  
 这是你在环境中实际看到的内容。 包括默认系统解决方案、任何托管解决方案，以及你已应用的任何非托管自定义项。  
  
<a name="BKMK_ManagedProperties"></a>   
### <a name="managed-properties"></a>托管​​属性  
 某些组件无法自定义。 系统解决方案中的这些组件具有阻止对其进行自定义的元数据。 这些元数据称为“托管属性”。 托管解决方案的发布者还可设置托管属性，以防止你以他们不希望的方式自定义其解决方案。  
  
<a name="BKMK_Dependencies"></a>   
### <a name="solution-dependencies"></a>解决方案依赖关系  
 由于托管解决方案采用的分层方式，某些托管解决方案可能依赖于其他托管解决方案中的解决方案组件。 一些解决方案发布者将利用此特性来生成模块化解决方案。 可能需要先安装“基本”托管解决方案，然后才能安装第二个托管解决方案 - 用于进一步自定义基本托管解决方案中的组件。 第二个托管解决方案依赖于第一个解决方案中的解决方案组件。  
  
 系统跟踪解决方案之间的这些依赖关系。 如果尝试安装需要基本解决方案的解决方案，但该基本解决方案尚未安装，则无法安装该解决方案。 将收到一条消息，指示该解决方案需要先安装另一个解决方案。 同样，由于这些依赖关系，当依赖基本解决方案的解决方案仍处于安装状态时，将无法卸载该基本解决方案。 卸载基本解决方案之前，必须卸载从属解决方案。  
  
  
## <a name="next-steps"></a>后续步骤  
[导入、更新和导出解决方案](import-update-export-solutions.md) <br/>
[导航到特定解决方案](navigate-specific-solution.md)
 
