---
title: 使用 Power Apps 门户为 Common Data Service 创建和编辑字段 |MicrosoftDocs
ms.custom: ''
ms.date: 08/13/2019
ms.reviewer: ''
ms.service: powerapps
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- PowerApps
ms.author: matp
manager: kvivek
author: Mattp123
search.audienceType:
- maker
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: c8788aea002942bae7828411cec298592ea6e872
ms.sourcegitcommit: 629e47c769172e312ae07cb29e66fba8b4f03efc
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/06/2020
ms.locfileid: "78404018"
---
# <a name="create-and-edit-fields-for-common-data-service-using-power-apps-portal"></a>使用 Power Apps 门户为 Common Data Service 创建和编辑字段

使用[Power Apps 门户](https://make.powerapps.com/?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc)可以轻松地创建和编辑具有 Common Data Service 的实体字段。

门户允许配置最常见的选项，但只能使用解决方案资源管理器设置某些选项。 <br />详细信息： 
- [为 Common Data Service 创建和编辑字段](create-edit-fields.md)
- [使用 Power Apps 解决方案资源管理器创建和编辑 Common Data Service 字段](create-edit-field-solution-explorer.md)

## <a name="view-fields"></a>查看字段

1. 从 " [Power Apps" 门户](https://make.powerapps.com/?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc)中，选择 "**数据** > **实体**"，然后选择包含要查看的字段的实体。
2. 选择 "**字段**" 选项卡后，可以选择以下视图： 

 |视图|说明|
 |--|--|
 |**一切**| 显示实体的所有字段|
 |**经过**| 仅显示实体的托管和标准字段|
 |**客户**|仅显示实体的自定义字段|
 |**缺省值**|仅显示实体的标准字段|
<!-- TODO: What is the actual difference between All and Default? -->

## <a name="create-a-field"></a>创建字段

查看字段时，请在命令栏中单击 "**添加字段**"，这将显示 "**字段属性**" 面板。

![字段属性](media/field-properties.png)

最初，只有三个字段属性可用：

 |属性|说明|
 |--|--|
 |**显示名称**|要为用户界面中的字段显示的文本。|
 |**名称**|环境中的唯一名称。 将根据你输入的显示名称为你生成一个名称，但你可以在保存之前对其进行编辑。 创建字段后，将无法更改该名称，因为它可能在应用程序或代码中引用。 该名称将包含预置的**Common Data Service 默认发布者**的自定义前缀。|
 |**数据类型**|控制如何存储值以及如何在某些应用程序中设置值的格式。 保存字段后，不能更改数据类型，但将文本字段转换为自动编号字段除外。|
 |**必填**| 不能在此字段中保存不含数据的记录。 |
 |**外面**| 此字段显示在 "高级查找" 中，并在自定义视图时可用。 |
 |**计算或汇总**| 使用自动执行手动计算。 使用值、日期或文本。|
 |**高级选项**| 添加说明，并指定字段的最大长度和 IME 模式。

您可以根据所选的**数据类型**设置其他选项。

## <a name="field-data-types"></a>字段数据类型

有许多不同类型的字段，但只能创建其中一些字段。 有关所有类型字段的详细信息，请参阅[字段类型和字段数据类型](types-of-fields.md)。

创建字段时，**数据类型**提供以下选项：

### <a name="text"></a>文本 

标准文本字段最多可存储4000个字符。 默认的 "[最大长度](#max-length)" 选项设置为可调整的下限值。

|数据类型|说明|
|--|--|
|**文本**|要在单行文本框中显示的文本值。|
|**文本区域**|旨在在多行文本框中显示的文本值。 如果需要4000个以上的字符，请使用[多行文本](#multi-line-field)数据类型。|
|**Email**|验证为电子邮件地址并在字段中呈现为 mailto 链接的文本值。 |
|**URL**|验证为 URL 并呈现为打开 URL 的链接的文本值。|
|**股票行情符号**|用于显示将打开以显示股票行情符号报价的链接的代号符号的文本值。 |
|**移动**|验证为作为链接的电话号码的文本值，用于通过使用 Skype 启动电话呼叫。 |
|**"**|自定义的数字和字母的组合，无论何时创建记录，服务器都会自动生成这些组合。 详细信息：[自动编号字段](autonumber-fields.md) |

#### <a name="max-length"></a>最大长度

存储文本的字段具有绝对最大值，具体取决于类型。 "**最大长度**" 选项设置的值小于特定于环境的最大值。 你可以增加此最大长度，但如果系统中的数据超出了下限值，则不应降低此长度。

### <a name="whole-number"></a>整数

这些字段将数据存储为数字，但包含不同的显示和验证选项。

|数据类型|说明|
|--|--|
|**整数**|在文本框中显示的数字值。|
|**持续时间**|显示为包含时间间隔的下拉列表的数字值。 用户可从列表中选择一个值或键入一个表示分钟数的整数值。 必须按以下格式输入持续时间： "x 分钟"、"x 小时" 或 "x 天"。 还可以使用小数（例如 "x： x 小时" 或 "x. x 日"）输入小时和天数。 输入的值必须以分钟表示，子分钟值将舍入到最接近的分钟。|
|**时区**|显示为包含时区列表的下拉列表的数字值。|
|**语言**|显示为下拉列表的数值，其中包含已为环境启用的语言的列表。 如果未启用其他语言，则只有基本语言这一个选项。 保存的值是语言的区域设置标识符（LCID）值。|


### <a name="date-time"></a>日期时间

使用这些字段存储时间值。 最早可以将值存储为 1/1/1753 12:00 AM。

|数据类型|说明|
|--|--|
|**日期和时间**|日期和时间值。|
|**仅日期**|只显示日期的日期和时间值。 时间值在系统中存储为 12:00 AM （00:00:00）。|

您还可以在 "**高级选项**" 中设置日期时间字段的特定**行为**。

- **用户本地**：显示在当前用户的本地时区中转换为的值。 这是新字段的默认值。
- **仅限日期**：此行为仅适用于 "**仅日期**" 类型。 显示不带时区转换的值。 将此用于生日和周年纪念等数据。
- **独立**时区：显示不带时区转换的值。

详细信息：[“日期和时间”字段的行为和格式](behavior-format-date-time-field.md)

### <a name="other-data-types"></a>其他数据类型

|数据类型|说明|
|--|--|
|**货币**|为环境配置的任何货币的 money 值。 您可以设置精度级别或选择以特定货币或组织使用的单个标准精度作为精度。详细信息：[使用货币字段](types-of-fields.md#using-currency-fields)|
|**十进制数字**| 最大精度为10点的十进制值。 详细信息：[使用正确的数字类型](types-of-fields.md#using-the-right-type-of-number)|
|**文件**| 用于存储二进制数据。|
|**浮点数**|浮点数字，最大精度为5。 详细信息：[使用正确的数字类型](types-of-fields.md#using-the-right-type-of-number)|
|**图像**|在应用程序中显示每个记录的单个图像。 每个实体可以有一个图像字段。 在创建图像字段时输入的**名称**将被忽略。 图像字段始终命名为 "EntityImage"。|
|**查找**| 创建对单个目标记录类型的单个记录的引用。|
|**多选选项集**|显示可选择多个选项的选项的列表。|
|<a name="multi-line-field"></a>**多行文本**|旨在在多行文本框中显示的文本值。 最大长度为1048576个字符。 还可以设置[最大长度](#max-length)。 |
|选项集|显示选项列表，其中只能选择其中一个选项。|
|**两个选项**|显示两个选项，只能选择其中一个选项。 为每个选项选择显示的标签。 默认值为 **"是" 和 "** **否**"。|

## <a name="save-new-field"></a>保存新字段

设置 "**显示名称**"、"**名称**" 和 "**数据类型**" 属性后，可以单击 "**完成**"，关闭 "**字段属性**" 面板。 

您可以继续编辑该实体并添加其他字段，或返回并继续编辑此字段。 在单击 "**保存实体**" 将所有更改保存到实体之前，将不会创建字段。

![保存实体按钮](media/save-entity-button.png)

您还可以单击 "**放弃**" 以放弃您所做的更改。
 
## <a name="edit-a-field"></a>编辑字段

查看字段时，请选择要编辑的字段。 如果已保存对实体的更改来添加字段，则可以修改**显示名称**，但无法更改**名称**和**数据类型**。

### <a name="general-properties"></a>常规属性
每个字段都具有您可以更改的以下属性：

|属性|说明|
|--|--|
|**必填**|选中此项时，不能在此字段中保存不含数据的记录。|
|**外面**|对不使用的实体的字段取消选择此项。  当字段可搜索时，它将显示在 "**高级查找**" 中，并在自定义视图时可用。 取消选择此选项会减少使用 "高级查找" 的用户显示的选项数。|
|**说明**|位于**高级选项**中。 向用户输入有关字段的内容的说明。 当用户将鼠标悬停在该字段的标签上方时，这些说明将在模型驱动应用中显示为工具提示。|

> [!NOTE]
> **使字段成为必填字段**：必填字段时请小心。 如果用户无法保存记录，则用户将无法使用应用程序，因为他们缺少输入所需字段的正确信息。 用户可以输入不正确的数据，只是保存记录并继续处理。
>
>**动态设置需求**：在模型驱动的应用程序中，可以使用业务规则或窗体脚本来更改需求级别，因为记录中的数据会随着人员的工作而更改。 详细信息：[创建业务规则和建议，以便在表单中应用逻辑](../model-driven-apps/create-business-rules-recommendations-apply-logic-form.md)
>
>**高级查找可用性**：高级查找当前仅适用于使用 Web 客户端的模型驱动应用。 高级查找当前在统一界面客户端上不可用。

## <a name="calculated-or-rollup"></a>计算或汇总

您可以将自定义字段设置为**计算**字段或**汇总**字段。 不是计算字段或汇总字段的字段有时称为*简单*字段。

### <a name="calculated"></a>已计算

使用计算字段时，您可以输入公式来为字段赋值。 这些数据类型可设置为计算字段：**货币**、**日期和时间**、**仅日期**、**十进制数**、**持续**时间、**电子邮件**、**语言**、**多选选项集**、**选项集**、**文本**、**文本区域**、**股票代号**、**时区**、**两个选项**、 **URL**和**整数**。

详细信息：[定义计算字段以自动执行手动计算](define-calculated-fields.md)

### <a name="rollup"></a>rollup

使用汇总字段，您可以设置将定期运行的聚合函数，以设置字段的数值。 这些数据类型可设置为计算字段：**货币**、**日期和时间**、**仅日期**、**十进制数**、**持续时间**、**语言**、**时区**和**整数**。

详细信息：[定义聚合值的汇总字段](define-rollup-fields.md)

## <a name="number-field-options"></a>数字字段选项

每种类型的数字字段都具有绝对的最小值和最大值。 您可以在这些绝对值中设置适当的**最小值**和**最大值**。 执行此操作后，Common Data Service 验证要存储在字段中的数据的值。

对于**浮点数**和**十进制数值**数据类型，可以指定**小数位数**。


## <a name="option-set-field-options"></a>选项集字段选项

提供一组选项的字段可以包含它们自己的*本地*选项集，或引用可供多个字段使用的一组通用*全局*选项。

当你发现自己为多个字段创建相同的一组选项时，使用全局选项集很有用。 使用全局选项集，只需在一个位置维护一组选项。 

如果选择 "**多个选择" 选项集**或**选项集**数据类型，设计器将列出一组可用的全局选项集供您选择，并提供创建**新选项集**的选项。

![选择选项集类型](media/option-set-options.png)

如果选择 "**新建" 选项**，则默认行为是创建新的全局选项集。

> [!NOTE]
> 编辑新全局选项集的选项时，**显示名称**和**名称**值用于全局选项集而不是字段。 默认值与字段值匹配，但你可以在编辑全局选项集时对其进行编辑，使其不同于当前正在创建的字段。

如果要创建本地选项集，则必须单击 "**查看更多**"，然后选择 "**本地选项集**"。

![本地选项集](media/local-option-set.png)

> [!NOTE]
> 如果将每个选项集定义为全局选项集，则全局选项集列表将会增长，并可能难于管理。 如果你知道将仅在一个位置使用一组选项，请使用本地选项集。

[!INCLUDE [cc_remove-option-warning](../../includes/cc_remove-option-warning.md)]

## <a name="delete-a-field"></a>删除字段

使用系统管理员安全角色，您可以删除不属于托管解决方案的任何自定义字段。 删除字段时，任何存储在此字段中的数据都将丢失。 从已删除的字段恢复数据的唯一方法是从删除字段之前的时间点还原数据库。

> [!NOTE]
> 必须先删除其他解决方案组件中可能存在的任何依赖关系，然后才能删除自定义字段。 

[查看字段](#view-fields)时，如果选择可在列表中删除的自定义字段，则会显示 "**删除字段**" 命令，该命令处于启用状态。

![使用门户删除字段](media/delete-field-portal.png)

使用 "**删除字段**" 命令可删除字段。 删除字段之后，必须将更改保存到实体。

![删除字段后保存实体](media/delete-field-portal-save-entity.png)

> [!NOTE]
> 如果出现与依赖关系相关的错误，则必须使用解决方案资源管理器来检测依赖项。 详细信息：[检查字段依赖关系](create-edit-field-solution-explorer.md#check-field-dependencies)

## <a name="ime-mode"></a>IME 模式

提供直接文本输入的任何字段都有 IME 模式。 输入法编辑器（IME）用于中文语言，如日语。 Ime 允许用户输入使用标准101键键盘的中文书面语言中使用的数千个不同字符。



### <a name="see-also"></a>另请参阅  
[为 Common Data Service 创建和编辑字段](create-edit-fields.md)<br />
[使用 Power Apps 解决方案资源管理器创建和编辑 Common Data Service 字段](create-edit-field-solution-explorer.md)<br />
[字段和字段数据类型的类型](types-of-fields.md)<br />
[定义计算字段以自动化手动计算](define-calculated-fields.md)<br />
[定义聚合值的汇总字段](define-rollup-fields.md)<br />
[“日期和时间”字段的行为和格式](behavior-format-date-time-field.md)
