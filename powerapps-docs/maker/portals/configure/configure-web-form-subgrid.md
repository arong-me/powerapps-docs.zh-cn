---
title: 门户的 Web 窗体子网格配置 |MicrosoftDocs
description: 说明如何为门户添加和配置 web 窗体 subgrids。
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 11/04/2019
ms.author: shjais
ms.reviewer: ''
ms.openlocfilehash: 210300d40742cbf2ca83f9d6c3b07cd580167eaa
ms.sourcegitcommit: d9cecdd5a35279d78aa1b6c9fc642e36a4e4612c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/04/2019
ms.locfileid: "73552948"
---
# <a name="configure-web-form-subgrids-for-portals"></a>为门户配置 Web 窗体 subgrids

Web 窗体 subgrids 的配置方式与实体窗体 subgrids 相同：首先，为具有子网格的 Web 窗体步骤创建元数据记录，然后添加配置元数据。

将 subgrids 添加到门户上的托管窗体非常简单，只需使用现成的窗体设计器将子网格添加到要管理的窗体中即可。 网格将使用 Common Data Service 窗体设计器中指定的视图，仅显示相关记录（如果选择了该选项）、选择显示搜索栏，甚至考虑[门户的实体权限](assign-entity-permissions.md)。 显示只读记录列表并不会变得简单。 若要为网格启用操作（创建、更新、删除等），必须通过使用元数据配置来配置这些操作。

## <a name="add-subgrid-metadata-to-your-form"></a>向窗体添加子网格元数据

若要将子网格元数据添加到实体窗体，请使用顶部的下拉列表或您正在使用的记录的主窗体上的子网格，以跳到**实体窗体元数据**。 详细信息：[定义实体窗体](entity-forms.md)。

若要添加新记录，请选择 "**添加新实体表单元数据**"。

若要编辑现有记录，请在网格中选择该记录。 选择 "子**网格**" 作为 "**类型**" 值将显示另一个属性 "子**网格名称**"。


|     名称     |                                                       描述                                                        |
|--------------|--------------------------------------------------------------------------------------------------------------------------|
| 子网格名称 | 实体相关窗体上子网格的唯一名称。 |
|              |                                                                                                                          |

在窗体编辑器中选择子网格将显示 "属性" 窗口。 这包含一个**名称**字段，该字段应用于分配给实体窗体元数据记录上的子**网格名称**字段。

![添加子网格元数据](../media/add-subgrid-metadata.png "添加子网格元数据")  

指定有效的子网格名称将显示子网格配置设置。 默认情况下，仅显示**基本设置**。 选择 "**高级设置**" 以显示其他设置。

默认情况下，会折叠大多数设置以节省空间。 选择 "* * * *" 以展开某个部分，并查看其他选项。 选择 "* * * *" 以折叠部分。

## <a name="attributes"></a>特性

| 名称                       | 描述                                                                                                                                                                                                                                                                                                                                                               |
|----------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**         |                                                                                                                                                                                                                                                                                                                                                                           |
| 查看操作               | 用于添加适用于实体集的操作的操作按钮，并将显示在子网格之上。 可用的操作包括： <ul><li>创建</li><li>Download</li><li>将</li></ul> 选择这些选项之一会显示该操作的配置区域。 有关每个操作的详细信息，请参阅下文。                                                                                                                                                                                                                                                   |
| 项操作               | 使用可为适用于单个记录的操作添加操作按钮，并将显示在子网格中的每一行，前提是[实体权限](assign-entity-permissions.md)已授予关联的权限。 可用的操作包括： <ul><li>详细信息</li><li>编辑</li><li>Delete</li><li>Workflow</li><li>断开</li></ul> 选择这些选项之一会显示该操作的配置区域。 有关每个操作的详细信息，请参阅下文。                                                                                                                                                                                                                                                   |
| 重写列特性 | 用于重写网格中各个列的显示设置。 <ul><li>属性：要替代的列的逻辑名称。</li><li>显示名称：新列标题以替代默认值</li><li>Width：列的宽度（以百分比或像素为单位），用于重写默认值。 另请参阅网格列宽样式。 若要覆盖列上的设置，请选择 "**列**"，并填写详细信息。                                                                                                                                                                                                                                                                                             |
| **高级设置**      |                                                                                                                                                                                                                                                                                                                                                                           |
| 正在加载消息            | 重写在加载子网格时显示的默认 HTML 消息。                                                                                                                                                                                                                                                                                             |
| 错误消息              | 重写在加载子网格时出现错误时显示的默认 HTML 消息。                                                                                                                                                                                                                                                                           |
| 拒绝访问消息      | 重写当用户没有足够的[权限](assign-entity-permissions.md)读取与子网格关联的实体类型时显示的默认 HTML 消息。                       |
| 空消息              | 重写当关联的子网格中不包含任何数据时显示的 HTML 消息。                                                                                                                                                                                                                                                                                     |
| 查找对话框              | 控制用户激活关联操作时出现的对话框的设置。                                                                                                                                                                                                                                                                             |
| 详细信息窗体对话框        | 控制用户激活详细信息操作时出现的对话框的设置。                                                                                                                                                                                                                                                                                |
| 编辑窗体对话框           | 控制用户激活编辑操作时显示的对话框的设置。                                                                                                                                                                                                                                                                                   |
| "创建窗体" 对话框         | 控制用户激活创建操作时出现的对话框的设置。                                                                                                                                                                                                                                                                                 |
| 删除对话框              | 控制用户激活 "删除" 操作时出现的对话框的设置。                                                                                                                                                                                                                                                                                 |
| 错误对话框               | 控制在执行任何操作的过程中出现错误时显示的对话框的设置。                                                                                                                                                                                                                                                                                 |
| CSS 类                  | 指定将应用于 HTML 元素的 CSS 类，这些元素包含整个子网格区域，包括网格和操作按钮。                                                                                                                                                                                                                     |
| 网格 CSS 类             | 指定将应用于子网格的 HTML &lt;table&gt; 元素的 CSS 类。                                                                                                                                                                                                                                                                          |
| 网格列宽样式    | 配置是否以**像素**或**百分比**指定覆盖列属性中的**宽度**值。                                                                                                                                                                                                                                                             |
||

## <a name="create-action"></a>创建操作

启用 "**创建" 操作**会在子网格上方呈现一个按钮，选中此选项后，将打开一个对话框，其中包含允许用户创建新记录的[实体窗体](entity-forms.md)。  

### <a name="create-action-settings"></a>创建操作设置

| 名称                  | 描述                                                                                                                                                                                                                                                 |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                                                                                                                                             |
| 实体窗体           | 指定将用于创建新记录的[实体窗体和自定义逻辑](entity-forms.md)。 下拉列表包含为子网格的实体类型配置的所有实体窗体。<br>**注意**：如果子网格的实体类型没有实体窗体，则下拉列表将显示为空。 如果没有为创建操作提供实体窗体，则该窗体将被忽略，并且不会在子网格的实体窗体上呈现该按钮。                                |
| **高级设置** |                                                                                                                                                                                                                                                             |
| 按钮标签          | 重写子网格上方的 "创建操作" 按钮中显示的 HTML 标签。                                                                                                                                                                           |
| 按钮工具提示        | 重写当用户指向 "创建操作" 按钮时显示的工具提示文本。                                                                                                                                                            |

### <a name="create-form-dialog-box-advanced-settings"></a>"创建窗体" 对话框高级设置

| 名称                   | 描述                                                                                                                                     |
|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| 正在加载消息        | 重写在加载对话框时显示的消息。                                                                                  |
| 标题                  | 重写在对话框的标题栏中显示的 HTML。                                                                                 |
| 消除按钮 Sr 文本 | 替代与对话框的 "关闭" 按钮相关联的屏幕阅读器文本。                                                                   |
| 大小                   | 指定 "创建窗体" 对话框的大小。 选项包括 "默认"、"大" 和 "小"。 默认大小为大。 |
| CSS 类              | 指定将应用于生成的对话框的一个或哪些类。                                                                    |
| 标题 CSS 类        | 指定将应用于生成的对话框标题栏的一个或一些类。                                                        |
||

## <a name="download-action"></a>下载操作

启用**下载操作**会在子网格上方呈现一个按钮，选择该按钮时，会将子网格中的数据下载到 [!INCLUDE[pn-excel-short](../../../includes/pn-excel-short.md)] （.xlsx）文件。

### <a name="download-action-settings"></a>下载操作设置

| 名称                  | 描述                                                                                        |
|-----------------------|----------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                    |
| 内容                  |                                                                                                    |
| **高级设置** |                                                                                                    |
| 按钮标签          | 覆盖子网格上方的 "下载操作" 按钮上显示的 HTML 标签。                |
| 按钮工具提示        | 重写当用户指向 "下载操作" 按钮时显示的工具提示文本。 |
||

## <a name="associate-action"></a>关联操作

启用**关联操作**会在子网格上方显示一个按钮，选择该按钮时将打开一个实体表，用户可以选择将其与[实体窗体](entity-forms.md)当前显示的实体记录相关联，前提是追加和已为适用实体类型的[实体权限](assign-entity-permissions.md)授予 AppendTo 权限。  

### <a name="associate-action-settings"></a>关联操作设置

| 名称                  | 描述                                                                                                                                                                                                                |
|-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                                                                                                            |
| 显示                  | 指定将用于查找和显示符合条件的实体列表的视图（已保存的查询）。<br>**注意**：如果子网格的实体类型没有已保存的查询，则下拉列表将显示为空。 如果没有为关联操作提供视图，则它将被忽略，并且不会在子网格的实体窗体上呈现该按钮。  |
| **高级设置** |                                                                                                                                                                                                                            |
| 按钮标签          | 重写子网格上方的 "关联操作" 按钮中显示的 HTML 标签。                                                                                                                                       |
| 按钮工具提示        | 重写当用户指向 "关联操作" 按钮时显示的工具提示文本。                                                                                                                        |
||

### <a name="lookup-dialog-box-advanced-settings"></a>"查找" 对话框高级设置

| 名称                     | 描述                                                                                                                                 |
|--------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| 标题                    | 重写在对话框的标题栏中显示的 HTML。                                                                             |
| 主按钮文本      | 覆盖出现在对话框上的 "主要（添加）" 按钮中的 HTML。                                                                |
| 关闭按钮文本        | 替代对话框上的 "关闭" （"取消"）按钮中显示的 HTML。                                                               |
| 消除按钮 Sr 文本   | 替代与对话框的 "关闭" 按钮相关联的屏幕阅读器文本。                                                               |
| 大小                     | 指定 "关联" 对话框的大小。 选项包括 "默认"、"大" 和 "小"。 默认大小为大。 |
| CSS 类                | 指定将应用于生成的对话框的一个或哪些类。                                                                |
| 标题 CSS 类          | 指定将应用于生成的对话框标题栏的一个或一些类。                                                    |
| 主按钮 CSS 类 | 指定将应用于对话框的 "主" （添加）按钮的 CSS 类。                                                 |
| 关闭按钮 CSS 类   | 指定将应用于对话框的 "关闭" 按钮（"取消"）的一个或一些类。                                                |
| 选择记录标题     | 重写在记录选择区域标题中显示的 HTML。                                                                  |
| 默认错误消息    | 当关联选定的一个或一些实体时，将重写出现错误的消息。                                  |
| 网格选项             | 指定实体网格外观的设置。 请参阅下面的选项。                                                              |
||

### <a name="lookup-dialog-box-advanced-grid-options-settings"></a>"查找" 对话框 "高级网格选项" 设置

| 名称                  | 描述                                                                                                              |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------|
| 正在加载消息       | 重写在加载实体网格时显示的消息。                                                |
| 错误消息         | 重写在加载实体网格时出现错误时显示的消息。                               |
| 拒绝访问消息 | 重写当用户没有足够的实体权限来查看实体网格时显示的消息。 |
| 空消息         | 当没有可与当前实体窗体关联的实体时，将重写显示的消息。       |
| CSS 类             | 指定将应用于关联网格区域的一个或一些类。                                          |
| 网格 CSS 类        | 指定将应用于关联网格的 &lt;表&gt; 元素的 CSS 类。                       |
||

## <a name="details-action"></a>详细信息操作

启用**详细信息操作**后，用户可以查看一个只读[实体窗体，该窗体](entity-forms.md)被数据绑定到子网格选定行的记录。  

### <a name="details-action-settings"></a>详细信息操作设置

|                 名称                  |                                                                                                                                                                                                                        描述                                                                                                                                                                                                                        |
|---------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          **基本设置**           |                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|              实体窗体              | 指定将用于查看所选记录的详细信息的[实体窗体](entity-forms.md)。 下拉列表将包括为子网格的实体类型配置的所有实体窗体。 <br>**注意**：如果子网格的实体类型没有实体窗体，则下拉状态将显示为空。 如果没有为详细信息操作提供实体窗体，则该窗体将被忽略，并且子网格中不会呈现该按钮。 |
|         **高级设置**         |                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 记录 ID 查询字符串参数名称 |                                                                      指定查询字符串参数的名称，该参数将用于在所选实体窗体中选择要查看的实体。 这应与该实体窗体的记录 ID 查询字符串参数名称中的值匹配。 此字段的默认值（在此处和实体窗体配置中）为**id**。                                                                       |
|             按钮标签              |                                                                                                                                                                                          重写子网格行中显示的此操作的 HTML 标签。                                                                                                                                                                                           |
|            按钮工具提示             |                                                                                                                                                                 重写当用户指向网格行中显示的此操作的按钮时显示的工具提示文本。                                                                                                                                                                  |
|                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

### <a name="details-form-dialog-box-advanced-settings"></a>"详细信息窗体" 对话框高级设置

| 名称                   | 描述                                                                                                                             |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 正在加载消息        | 重写在加载对话框时显示的 HTML。                                                                             |
| 标题                  | 重写在对话框的标题栏中显示的 HTML。                                                                         |
| 消除按钮 Sr 文本 | 替代与对话框的 "关闭" 按钮相关联的屏幕阅读器文本。                                                           |
| 大小                   | 指定 "详细信息" 对话框的大小。 选项包括 "默认"、"大" 和 "小"。 默认大小为大。 |
| CSS 类              | 指定将应用于生成的对话框的一个或哪些类。                                                            |
| 标题 CSS 类        | 指定将应用于生成的对话框标题栏的一个或一些类。                                                |
||

## <a name="edit-action"></a>编辑操作

如果通过[实体权限](assign-entity-permissions.md)授予写入权限，则启用 "**编辑" 操作**后，用户可以查看数据绑定到子网格选定行的记录的可编辑[实体窗体](entity-forms.md)。  

### <a name="edit-action-settings"></a>编辑操作设置

| 名称                                  | 描述                                                                                                                                                                                                                                                                                                  |
|---------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**                    |                                                                                                                                                                                                                                                                                                              |
| 实体窗体                           | 指定将用于编辑所选记录的[实体窗体](entity-forms.md)。 下拉列表将包括为子网格的实体类型配置的所有实体窗体。<br>**注意**：如果子网格的实体类型没有实体窗体，则下拉列表将显示为空。 如果没有为编辑操作提供实体窗体，则该窗体将被忽略，并且子网格中不会呈现该按钮。                                                                                                 |
| **高级设置**                 |                                                                                                                                                                                                                                                                                                              |
| 记录 ID 查询字符串参数名称 | 指定将用于在所选实体窗体中选择要编辑的实体的查询字符串参数的名称。 这应与该实体窗体的记录 ID 查询字符串参数名称中的值匹配。 此字段的默认值（在此处和实体窗体配置中）为**id**。 |
| 按钮标签                          | 重写子网格行中显示的此操作的 HTML 标签。                                                                                                                                                                                                                                       |
| 按钮工具提示                        | 重写当用户指向网格行中显示的此操作的按钮时显示的工具提示文本。                                                                                                                                                                              |
||

### <a name="edit-form-dialog-box-advanced-settings"></a>"编辑表单" 对话框高级设置

| 名称                   | 描述                                                                                                                       |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| 正在加载消息        | 重写在加载对话框时显示的 HTML。                                                                       |
| 标题                  | 重写在对话框的标题栏中显示的 HTML。                                                                   |
| 消除按钮 Sr 文本 | 替代与对话框的 "关闭" 按钮相关联的屏幕阅读器文本。                                                     |
| 大小                   | 指定编辑对话框的大小。 选项包括 "默认"、"大" 和 "小"。 默认大小为大。 |
| CSS 类              | 指定将应用于生成的对话框的一个或哪些类。                                                      |
| 标题 CSS 类        | 指定将应用于生成的对话框标题栏的一个或一些类。                                          |
||

## <a name="delete-action"></a>删除操作

如果 "删除" 权限已被[实体权限](assign-entity-permissions.md)授予，则启用 "**删除" 操作**可允许用户永久删除子网格中的行所表示的实体。  

### <a name="delete-action-settings"></a>删除操作设置

| 名称                  | 描述                                                                                                                     |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                 |
| 内容                  |                                                                                                                                 |
| **高级设置** |                                                                                                                                 |
| 证实          | 覆盖用户激活 "删除" 操作时显示的确认 HTML 消息。                                    |
| 按钮标签          | 重写子网格行中显示的此操作的 HTML 标签。                                                          |
| 按钮工具提示        | 重写当用户指向网格行中显示的此操作的按钮时显示的工具提示文本。 |
||

### <a name="delete-dialog-box-advanced-settings"></a>"删除" 对话框高级设置

| 名称                     | 描述                                                                                                                             |
|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 标题                    | 重写在对话框的标题栏中显示的 HTML。                                                                         |
| 主按钮文本      | 覆盖出现在对话框上的 "主要（删除）" 按钮中的 HTML。                                                         |
| 关闭按钮文本        | 替代对话框上的 "关闭" （"取消"）按钮中显示的 HTML。                                                           |
| 消除按钮 Sr 文本   | 替代与对话框的 "关闭" 按钮相关联的屏幕阅读器文本。                                                           |
| 大小                     | 指定 "删除" 对话框的大小。 选项包括 "默认"、"大" 和 "小"。 默认大小为默认值。 |
| CSS 类                | 指定将应用于生成的对话框的一个或哪些类。                                                            |
| 标题 CSS 类          | 指定将应用于生成的对话框标题栏的一个或一些类。                                                |
| 主按钮 CSS 类 | 指定将应用于对话框的 "主" （删除）按钮的一个或一些类。                                          |
| 关闭按钮 CSS 类   | 指定将应用于对话框的 "关闭" 按钮（"取消"）的一个或一些类。                                            |
||

## <a name="workflow-action"></a>工作流操作

启用**工作流操作**后，用户可以根据子网格中的所选记录运行按需工作流。 可向子网格元数据添加任意数量的工作流操作。

### <a name="workflow-action-settings"></a>工作流操作设置

| 名称                  | 描述                                                                                                                                                                                                     |
|-----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                                                                                                 |
| Workflow              | 指定用户激活此操作时将运行的按需工作流。<br>**注意**：如果子网格的实体类型没有工作流，则下拉列表将显示为空。 如果没有为工作流操作提供工作流，则将忽略该工作流，并且子网格中不会呈现该按钮。  |
| 按钮标签          | 设置显示在子网格行中的此操作的 HTML 标签。 此设置是必需的。                                                                                                                     |
| **高级设置** |                                                                                                                                                                                                                 |
| 按钮工具提示        | 重写当用户指向网格行中显示的此操作的按钮时显示的工具提示文本。                                                                                 |
||

## <a name="disassociate-action"></a>解除关联操作

使用 "**解除关联" 操作**，用户可以删除当前查看的[实体窗体](entity-forms.md)所表示的记录与子网格中选定行所表示的记录之间的链接，前提是 Append 和 AppendTo 权限具有已由适用实体类型的[实体权限](assign-entity-permissions.md)授予。

### <a name="disassociate-action-settings"></a>解除操作设置关联

| 名称                  | 描述                                                                                                                     |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                 |
| 内容                  |                                                                                                                                 |
| **高级设置** |                                                                                                                                 |
| 按钮标签          | 重写子网格行中显示的此操作的 HTML 标签。                                                          |
| 按钮工具提示        | 重写当用户指向网格行中显示的此操作的按钮时显示的工具提示文本。 |
||

### <a name="see-also"></a>另请参阅

[配置门户](configure-portal.md)  
[定义实体窗体](entity-forms.md)  
[门户的 Web 窗体属性](web-form-properties.md)  
[门户的 Web 窗体步骤](web-form-steps.md)  
[门户的 Web 窗体元数据](configure-web-form-metadata.md)  
[门户 Web 窗体的说明配置](../configure-notes.md)  

