---
title: 门户的 Web 窗体子网格配置 | MicrosoftDocs
description: 有关如何添加和配置门户的 Web 窗体子网格的说明。
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 11/04/2019
ms.author: shjais
ms.reviewer: ''
ms.openlocfilehash: 210300d40742cbf2ca83f9d6c3b07cd580167eaa
ms.sourcegitcommit: d9cecdd5a35279d78aa1b6c9fc642e36a4e4612c
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/04/2019
ms.locfileid: "2760155"
---
# <a name="configure-web-form-subgrids-for-portals"></a>配置门户的 Web 窗体子网格

Web 窗体子网格的配置方法与实体窗体子网格相同：首先为拥有子网格的 Web 窗体步骤创建元数据记录，然后添加配置元数据。

将子网格添加到门户中的“托管”窗体很简单 — 只需通过自带的窗体设计器将子网格添加到您管理的窗体即可完成。 网格将使用 Common Data Service 窗体设计器中指定的视图，仅在选择该选项时才显示相关记录，或者显示搜索栏，甚至将遵循[门户的实体权限](assign-entity-permissions.md)。 显示只读记录列表不会更简单。 若要启用网格的操作（创建、更新、删除等），您必须使用元数据配置来配置这些操作。

## <a name="add-subgrid-metadata-to-your-form"></a>向窗体中添加子网格元数据

若要将子网格元数据添加到实体窗体中，请通过使用顶部的下拉列表或您在操作的记录的主窗体中的子网格转至**实体窗体元数据**。 详细信息：[定义实体窗体](entity-forms.md)。

若要添加新记录，请选择**添加新实体窗体元数据**。

若要编辑现有记录，请选择网格中的记录。 选择**子网格**作为**类型**值可再显示一个属性**子网格名称**。


|     姓名     |                                                       说明                                                        |
|--------------|--------------------------------------------------------------------------------------------------------------------------|
| 子网格名称 | 与实体相关的窗体上的子网格的唯一名称。 |
|              |                                                                                                                          |

在表单编辑器中选择子网格将显示属性窗口。 其中包含用于分配到实体窗体元数据记录的**子网格名称**字段的**名称**字段。

![添加子网格元数据](../media/add-subgrid-metadata.png "添加子网格元数据")  

指定有效的子网格名称将显示子网格配置设置。 默认情况下，仅显示**基本设置**。 选择**高级设置**可查看更多设置。

默认情况下，大多数设置折叠显示以节省空间。 选择 **** 展开部分，可以看到其他选项。 选择 **** 折叠部分。

## <a name="attributes"></a>属性

| 姓名                       | 说明                                                                                                                                                                                                                                                                                                                                                               |
|----------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**         |                                                                                                                                                                                                                                                                                                                                                                           |
| 视图操作               | 用于为适用于实体集并将显示在子网格上方的操作添加操作按钮。 可用操作包括： <ul><li>创建​​</li><li>下载</li><li>关联</li></ul> 选择以下选项之一将显示该操作的配置区域。 有关每个操作的详细信息，请参阅以下内容。                                                                                                                                                                                                                                                   |
| 项目操作               | 用于为适用于单个记录并将在子网格中的每行显示的操作添加操作按钮（如果[实体权限](assign-entity-permissions.md)已授予关联的权限）。 可用操作包括： <ul><li>详细信息</li><li>编辑</li><li>删除​​</li><li>工作流</li><li>解除关联</li></ul> 选择以下选项之一将显示该操作的配置区域。 有关每个操作的详细信息，请参阅以下内容。                                                                                                                                                                                                                                                   |
| 替代列属性 | 用于替代网格中各列的显示设置。 <ul><li>属性：您要替代的列的逻辑名称。</li><li>显示名称：替代默认值的新列标题</li><li>宽度：替代默认值的列宽度（以百分比或像素为单位）。 另请参阅“网格列宽度样式”。 若要替代某列的设置，请选择**列**并填写详细信息。                                                                                                                                                                                                                                                                                             |
| **高级设置**      |                                                                                                                                                                                                                                                                                                                                                                           |
| 正在加载消息            | 替代在加载子网格时显示的默认 HTML 消息。                                                                                                                                                                                                                                                                                             |
| 错误消息              | 替代在加载子网格的过程中发生错误时显示的默认 HTML 消息。                                                                                                                                                                                                                                                                           |
| 拒绝访问消息      | 替代在用户没有足够的[权限](assign-entity-permissions.md)读取与子网格关联的实体类型时显示的默认 HTML 消息。                       |
| 空消息              | 替代在关联子网格不包含数据时显示的 HTML 消息。                                                                                                                                                                                                                                                                                     |
| 查找对话框              | 控制用户激活关联操作时显示的对话框的设置。                                                                                                                                                                                                                                                                             |
| \"详细信息窗体\"对话框        | 控制用户激活详细信息操作时显示的对话框的设置。                                                                                                                                                                                                                                                                                |
| \"编辑窗体\"对话框           | 控制用户激活编辑操作时显示的对话框的设置。                                                                                                                                                                                                                                                                                   |
| \"创建窗体\"对话框         | 控制用户激活创建操作时显示的对话框的设置。                                                                                                                                                                                                                                                                                 |
| \"删除\"对话框              | 控制用户激活删除操作时显示的对话框的设置。                                                                                                                                                                                                                                                                                 |
| \"错误\"对话框               | 控制在任何操作过程中出现错误时显示的对话框的设置。                                                                                                                                                                                                                                                                                 |
| CSS                  | 指定将应用到包含整个子网格区域的 HTML 元素的 CSS 类。                                                                                                                                                                                                                     |
| 网格 CSS 类             | 指定将应用于子网格的 HTML &lt;table&gt; 元素的 CSS 类。                                                                                                                                                                                                                                                                          |
| 网格列宽度样式    | 配置以**像素**还是**百分比**指定替代列属性中的**宽度**值。                                                                                                                                                                                                                                                             |
||

## <a name="create-action"></a>创建操作

启用**创建操作**可在子网格上方呈现按钮，选择该按钮时，将打开具有[实体窗体](entity-forms.md)的对话框，允许用户创建新记录。  

### <a name="create-action-settings"></a>创建操作设置

| 姓名                  | 说明                                                                                                                                                                                                                                                 |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                                                                                                                                             |
| 实体窗体           | 指定将用于创建新记录的[实体窗体和自定义逻辑](entity-forms.md)。 下拉列表中包含为子网格的实体类型配置的所有实体窗体。<br>**注意**：如果子网格的实体类型没有实体窗体，则下拉列表将显示为空。 如果创建操作未提供任何实体窗体，则会将其忽略，并且该按钮将不会呈现在子网格的实体窗体中。                                |
| **高级设置** |                                                                                                                                                                                                                                                             |
| 按钮标签          | 替代子网格上方的“创建操作”按钮中显示的 HTML 标签。                                                                                                                                                                           |
| 按钮工具提示        | 替代用户指向“创建操作”按钮时显示的工具提示文本。                                                                                                                                                            |

### <a name="create-form-dialog-box-advanced-settings"></a>“创建窗体”对话框高级设置

| 姓名                   | 说明                                                                                                                                     |
|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| 正在加载消息        | 替代在加载对话框时显示的消息。                                                                                  |
| 标题                  | 替代对话框的标题栏中显示的 HTML。                                                                                 |
| 屏幕阅读器取消按钮文本 | 覆盖与对话框的“取消”按钮关联的屏幕阅读器文本。                                                                   |
| 大小                   | 指定“创建窗体”对话框的大小。 选项是默认、大和小。 默认大小为“大”。 |
| CSS              | 指定将应用于生成的对话框的 CSS 类。                                                                    |
| 标题 CSS 类        | 指定将应用于生成的对话框标题栏的 CSS 类。                                                        |
||

## <a name="download-action"></a>下载操作

启用**下载操作**将在子网格上方呈现一个按钮，选择该按钮时，可将子网格中的数据下载到 [!INCLUDE[pn-excel-short](../../../includes/pn-excel-short.md)] (.xlsx) 文件。

### <a name="download-action-settings"></a>下载操作设置

| 客户                  | 说明                                                                                        |
|-----------------------|----------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                    |
| 无​​                  |                                                                                                    |
| **高级设置** |                                                                                                    |
| 按钮标签          | 替代子网格上方的“下载操作”按钮上显示的 HTML 标签。                |
| 按钮工具提示        | 替代用户指向“下载操作”按钮时显示的工具提示文本。 |
||

## <a name="associate-action"></a>关联操作

启用**关联操作**将在子网格上方呈现一个按钮，选择该按钮时，将打开一个对话框，该对话框具有一个实体表格，用户可从中选择关联到[实体窗体](entity-forms.md)当前显示的实体记录的实体（如果[实体权限](assign-entity-permissions.md)已为适用的实体类型授予 Append 和 AppendTo 权限）。  

### <a name="associate-action-settings"></a>关联操作设置

| 姓名                  | 说明                                                                                                                                                                                                                |
|-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                                                                                                            |
| 视图​​                  | 指定用于查找并显示合格实体列表的视图（保存的查询）。<br>**注意**：如果子网格的实体类型没有保存的查询，则下拉列表将显示为空。 如果关联操作未提供任何视图，则会将其忽略，并且该按钮将不会呈现在子网格的实体窗体中。  |
| **高级设置** |                                                                                                                                                                                                                            |
| 按钮标签          | 替代子网格上方的“关联操作”按钮中显示的 HTML 标签。                                                                                                                                       |
| 按钮工具提示        | 替代用户指向“关联操作”按钮时显示的工具提示文本。                                                                                                                        |
||

### <a name="lookup-dialog-box-advanced-settings"></a>“查找”对话框高级设置

| 姓名                     | 说明                                                                                                                                 |
|--------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| 标题                    | 替代对话框的标题栏中显示的 HTML。                                                                             |
| 主按钮文本      | 覆盖显示在对话框中主（添加）按钮中显示的 HTML。                                                                |
| 关闭按钮文本        | 覆盖显示在对话框中关闭（取消）按钮中显示的 HTML。                                                               |
| 屏幕阅读器取消按钮文本   | 覆盖与对话框的“取消”按钮关联的屏幕阅读器文本。                                                               |
| 大小                     | 指定“关联”对话框的大小。 选项是默认、大和小。 默认大小为“大”。 |
| CSS                | 指定将应用于生成的对话框的 CSS 类。                                                                |
| 标题 CSS 类          | 指定将应用于生成的对话框标题栏的 CSS 类。                                                    |
| 主按钮 CSS 类 | 指定将应用于对话框的主（添加）按钮的 CSS 类。                                                 |
| 关闭按钮 CSS 类   | 指定将应用于对话框的关闭（取消）按钮的 CSS 类。                                                |
| 选择记录标题     | 替代记录选择区域的标题中显示的 HTML。                                                                  |
| 默认错误消息    | 替代在关联所选实体的过程中发生错误时显示的消息。                                  |
| 网格选项             | 为实体网格的外观指定设置。 有关选项，请见下文。                                                              |
||

### <a name="lookup-dialog-box-advanced-grid-options-settings"></a>“查找”对话框高级网格选项设置

| 姓名                  | 说明                                                                                                              |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------|
| 正在加载消息       | 替代在加载实体网格时显示的消息。                                                |
| 错误消息         | 替代在加载实体网格的过程中发生错误时显示的消息。                               |
| 拒绝访问消息 | 替代当用户没有足够的实体权限查看实体网格时显示的消息。 |
| 空消息         | 替代当没有可与当前实体窗体关联的实体时显示的消息。       |
| CSS             | 指定将应用于关联网格区域的 CSS 类。                                          |
| 网格 CSS 类        | 指定将应用于关联网格的 &lt;table&gt; 元素的 CSS 类。                       |
||

## <a name="details-action"></a>详细信息操作

启用**详细信息操作**允许用户查看通过数据绑定到子网格选定行记录的只读[实体窗体](entity-forms.md)。  

### <a name="details-action-settings"></a>详细信息操作设置

|                 客户                  |                                                                                                                                                                                                                        说明                                                                                                                                                                                                                        |
|---------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          **基本设置**           |                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|              实体窗体              | 指定将用于查看选定记录详细信息的[实体窗体](entity-forms.md)。 下拉列表将包含为子网格的实体类型配置的所有实体窗体。 <br>**注意**：如果子网格的实体类型没有实体窗体，则下拉列表将显示为空。 如果详细信息操作未提供任何实体窗体，则会将其忽略，并且该按钮将不会呈现在子网格中。 |
|         **高级设置**         |                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 记录 ID 查询字符串参数名称 |                                                                      指定用于选择要在选定实体窗体中查看的实体的查询字符串参数的名称。 这应与该实体窗体的记录 ID 查询字符串参数名称中的值相匹配。 此字段的默认值（此处和实体窗体配置中）是 **id**。                                                                       |
|             按钮标签              |                                                                                                                                                                                          替代子网格行中显示的此操作的 HTML 标签。                                                                                                                                                                                           |
|            按钮工具提示             |                                                                                                                                                                 替代用户指向子网格行中显示的此操作按钮的按钮时显示的工具提示文本。                                                                                                                                                                  |
|                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

### <a name="details-form-dialog-box-advanced-settings"></a>“详细信息窗体”对话框高级设置

| 姓名                   | 说明                                                                                                                             |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 正在加载消息        | 替代在加载对话框时显示的 HTML。                                                                             |
| 标题                  | 替代对话框的标题栏中显示的 HTML。                                                                         |
| 屏幕阅读器取消按钮文本 | 覆盖与对话框的“取消”按钮关联的屏幕阅读器文本。                                                           |
| 大小                   | 指定“详细信息”对话框的大小。 选项是默认、大和小。 默认大小为“大”。 |
| CSS              | 指定将应用于生成的对话框的 CSS 类。                                                            |
| 标题 CSS 类        | 指定将应用于生成的对话框标题栏的 CSS 类。                                                |
||

## <a name="edit-action"></a>编辑操作

启用**编辑操作**允许用户查看通过数据绑定到子网格选定行的记录的可编辑[实体窗体](entity-forms.md)（如果[实体权限](assign-entity-permissions.md)已授予 Write 权限）。  

### <a name="edit-action-settings"></a>编辑操作设置

| 姓名                                  | 说明                                                                                                                                                                                                                                                                                                  |
|---------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**                    |                                                                                                                                                                                                                                                                                                              |
| 实体窗体                           | 指定将用于编辑选定记录的[实体窗体](entity-forms.md)。 下拉列表将包含为子网格的实体类型配置的所有实体窗体。<br>**注意**：如果子网格的实体类型没有实体窗体，则下拉列表将显示为空。 如果编辑操作未提供任何实体窗体，则会将其忽略，并且该按钮将不会呈现在子网格中。                                                                                                 |
| **高级设置**                 |                                                                                                                                                                                                                                                                                                              |
| 记录 ID 查询字符串参数名称 | 指定用于选择要在选定实体窗体中编辑的实体的查询字符串参数的名称。 这应与该实体窗体的记录 ID 查询字符串参数名称中的值相匹配。 此字段的默认值（此处和实体窗体配置中）是 **id**。 |
| 按钮标签                          | 替代子网格行中显示的此操作的 HTML 标签。                                                                                                                                                                                                                                       |
| 按钮工具提示                        | 替代用户指向子网格行中显示的此操作按钮的按钮时显示的工具提示文本。                                                                                                                                                                              |
||

### <a name="edit-form-dialog-box-advanced-settings"></a>“编辑窗体”对话框高级设置

| 姓名                   | 说明                                                                                                                       |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| 正在加载消息        | 替代在加载对话框时显示的 HTML。                                                                       |
| 标题                  | 替代对话框的标题栏中显示的 HTML。                                                                   |
| 屏幕阅读器取消按钮文本 | 覆盖与对话的“取消”按钮关联的屏幕阅读器文本。                                                     |
| 大小                   | 指定“编辑”对话框的大小。 选项是默认、大和小。 默认大小为“大”。 |
| CSS              | 指定将应用于生成的对话框的 CSS 类。                                                      |
| 标题 CSS 类        | 指定将应用于生成的对话框标题栏的 CSS 类。                                          |
||

## <a name="delete-action"></a>删除操作

启用**删除操作**允许用户永久删除子网格中某行呈现的实体（如果[实体权限](assign-entity-permissions.md)已授予 Delete 权限）。  

### <a name="delete-action-settings"></a>删除操作设置

| 姓名                  | 说明                                                                                                                     |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                 |
| 无​​                  |                                                                                                                                 |
| **高级设置** |                                                                                                                                 |
| 确认          | 替换当用户激活删除操作时显示的确认 HTML 消息。                                    |
| 按钮标签          | 替代子网格行中显示的此操作的 HTML 标签。                                                          |
| 按钮工具提示        | 替代用户指向子网格行中显示的此操作按钮的按钮时显示的工具提示文本。 |
||

### <a name="delete-dialog-box-advanced-settings"></a>“删除”对话框高级设置

| 姓名                     | 说明                                                                                                                             |
|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| 标题                    | 替代对话框的标题栏中显示的 HTML。                                                                         |
| 主按钮文本      | 覆盖显示在对话框中主（删除）按钮中显示的 HTML。                                                         |
| 关闭按钮文本        | 覆盖显示在对话框中关闭（取消）按钮中显示的 HTML。                                                           |
| 屏幕阅读器取消按钮文本   | 覆盖与对话框的“取消”按钮关联的屏幕阅读器文本。                                                           |
| 大小                     | 指定“删除”对话框的大小。 选项是默认、大和小。 默认大小为默认值。 |
| CSS                | 指定将应用于生成的对话框的 CSS 类或类。                                                            |
| 标题 CSS 类          | 指定将应用于生成的对话框标题栏的 CSS 类。                                                |
| 主按钮 CSS 类 | 指定将应用于对话框的主（删除）按钮的 CSS 类。                                          |
| 关闭按钮 CSS 类   | 指定将应用于对话框的关闭（取消）按钮的 CSS 类。                                            |
||

## <a name="workflow-action"></a>工作流操作

启用**工作流操作**允许用户根据子网格中的选定记录执行按需工作流。 您可以向子网格元数据中添加任意数量的工作流操作。

### <a name="workflow-action-settings"></a>工作流操作设置

| 姓名                  | 说明                                                                                                                                                                                                     |
|-----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                                                                                                 |
| 工作流              | 指定将在用户激活此操作时运行的按需工作流。<br>**注意**：如果子网格的实体类型没有工作流，则下拉列表将显示为空。 如果工作流操作未提供任何工作流，则会将其忽略，并且该按钮将不会呈现在子网格中。  |
| 按钮标签          | 设置子网格行中显示的此操作的 HTML 标签。 该设置是必需设置。                                                                                                                     |
| **高级设置** |                                                                                                                                                                                                                 |
| 按钮工具提示        | 替代用户指向子网格行中显示的此操作按钮的按钮时显示的工具提示文本。                                                                                 |
||

## <a name="disassociate-action"></a>解除关联操作

启用**解除关联操作**允许用户移除当前查看的[实体窗体](entity-forms.md)所呈现的记录与子网格中选定行所呈现的记录之间的链接（只要[实体权限](assign-entity-permissions.md)已为适用的实体类型授予 Append 和 AppendTo 权限）。

### <a name="disassociate-action-settings"></a>解除关联操作设置

| 客户                  | 说明                                                                                                                     |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                 |
| 无​​                  |                                                                                                                                 |
| **高级设置** |                                                                                                                                 |
| 按钮标签          | 替代子网格行中显示的此操作的 HTML 标签。                                                          |
| 按钮工具提示        | 替代用户指向子网格行中显示的此操作按钮的按钮时显示的工具提示文本。 |
||

### <a name="see-also"></a>另请参阅

[配置门户](configure-portal.md)  
[定义实体窗体](entity-forms.md)  
[门户的 Web 窗体属性](web-form-properties.md)  
[门户的 Web 窗体步骤](web-form-steps.md)  
[门户的 Web 窗体元数据](configure-web-form-metadata.md)  
[门户的 Web 窗体的注释配置](../configure-notes.md)  

