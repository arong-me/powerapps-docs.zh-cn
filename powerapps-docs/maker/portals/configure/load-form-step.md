---
title: 为门户配置加载窗体和加载选项卡步骤类型 |MicrosoftDocs
description: 在门户中定义加载窗体和加载选项卡步骤类型的说明。
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 11/04/2019
ms.author: shjais
ms.reviewer: ''
ms.openlocfilehash: e9e1fe038562f78359db485c84a77bcc95118d82
ms.sourcegitcommit: d9cecdd5a35279d78aa1b6c9fc642e36a4e4612c
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/04/2019
ms.locfileid: "73552143"
---
# <a name="define-a-load-form-and-load-tab-step-type"></a>定义加载窗体和加载选项卡步骤类型

此步骤类型允许 web 窗体步骤在整个 web 窗体过程中充当实体窗体。 它加载一个窗体，其中包含一组可作为实体窗体使用的选项。

## <a name="settings"></a>设置

| 名称                                  | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|---------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 名称                                  | 记录的描述性名称。 需要                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 实体名称                           | 从中加载窗体的实体的名称。 需要                                                                                                                                                                                                                                                                                                                                                                                                             |
| 窗体名称                             | 要呈现的目标实体上的窗体的名称。 需要                                                                                                                                                                                                                                                                                                                                                                                                           |
| 选项卡名称                              | 窗体上要呈现的指定实体的选项卡的名称。 可有可无                                                                                                                                                                                                                                                                                                                                                                                                  |
| 模式                                  | 以下值之一：<br><ul><li>&</li><li>编辑</li><li>只读</li></ul>选择 "插入" 指示窗体应该在提交时插入新记录。 指定 "编辑" 指示窗体应该编辑现有记录。 选择 "只读" 表示窗体应显示现有记录的 noneditable 窗体。 编辑和只读要求源记录存在，而 "记录源类型" 和 "记录 ID 查询字符串参数名称" 字段中指定的参数用于在门户中加载窗体时选择适当的记录。  |
| 自动从选项卡生成步骤         | 选中表示将每个选项卡显示一个实体窗体上的多个选项卡，每个选项卡都作为从第一个选项卡开始的顺序步骤，并继续，直到导航到所有选项卡，并在最终提交时插入记录。 取消选中是默认行为。 Unchecked 值指示只为当前步骤呈现一个选项卡或窗体。 如果未指定选项卡名称，则显示第一个选项卡。                                              |
| 记录源类型                    | 以下值之一：<br><ul><li>查询字符串</li><li>当前门户用户</li><li>上一步的结果</li></ul>选择查询字符串需要参数名称，该名称必须在表单的 URL 的查询字符串中提供。 这可以在 "记录 ID 查询字符串参数名称" 字段中指定。 选择 "当前门户用户" 将检索当前已经过身份验证的用户的门户用户记录。<br>选择 "上一步" 中的 "结果" 将检索为 web 窗体的前一步骤记录源的记录。                                                                                                                                                                                                                                                                                                                                                          |
| 记录 ID 查询字符串参数名称 | 在包含此实体窗体的网页的 URL 的查询字符串中提供的参数名称。                                                                                                                                                                                                                                                                                                                                                                                |
| 关系名称                     | 当记录源类型为与当前门户用户相关联的记录时是必需的。 当前门户用户记录与目标记录之间的关系的逻辑名称。 这必须返回实体名称字段指定的相同实体类型。                                                                                                                                                                                                                           |
| 如果为 Null，则允许创建                  | 一个可选的布尔值，当记录源类型为与当前门户用户相关联的记录时可用。 选中表示如果相关记录不存在，则允许用户第一次创建该记录，否则，如果该记录尚不存在，则会引发异常，因为窗体需要数据绑定到的记录。                                                                                                                                        |
| 启用实体权限             | 将使窗体与实体权限相关。 出于向后兼容的原因，默认值为 false。 如果设置为 true，则任何需要访问窗体的用户都必须具有显式权限。 请注意，这仅适用于窗体的第一步。                                                                                                                                                                                                                     |
||

## <a name="additional-settings"></a>其他设置

|                名称                |                                                                                 描述                                                                                 |
|------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    以内联方式呈现 Web 资源     |                     消除了包含实体窗体中的 web 资源的 iFrame。                     |
|          已启用工具提示          |                                               工具提示是使用目标实体上特性的说明设置的。                                               |
|      显示不支持的字段       |       当前支持所有字段。 这是保留的，因此可能会对字段类型进行更改。       |
| 根据需要设置建议字段 |                                     使要求的字段要求级别设置为 "业务建议" 的所有属性。                                      |
|      使所有字段都是必需的      |                                                    使所有字段都是必需的，而不考虑字段要求级别。                                                     |
|    验证摘要 CSS 类    |                               分配给验证摘要的 CSS 类名。 默认值： "验证-摘要警报警报-错误警报-块"                                |
|  启用验证摘要链接   | True 或 false 的布尔值，指示是否应在验证摘要中呈现定位点链接以滚动到包含错误的字段。 默认值： true |
|    验证摘要链接文本    |                                                   分配给验证摘要链接的标签。 默认值：单击此处                                                   |
|            说明            |                                                               在窗体顶部显示文本块。                                                               |
|      找不到记录消息      |                          无法加载源记录时显示的消息。 默认：找不到你要查找的记录。                           |

## <a name="form-options"></a>表单选项

| 名称                      | 描述                                                                                                                                                                       |
|---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 添加 Captcha               | 门户使用 RadCaptcha by Telerik 来防止恶意垃圾邮件攻击。 服务需要唯一密钥才能对门户应用程序的请求进行身份验证。 |
| 验证组          | 分配给用于计算命名组的有效输入的输入控件的组名。                                                                                             |
| 上一页 Button CSS 类 | 分配给 "上一页" 按钮的 CSS 类名。                                                                                                                                   |
| 上一个按钮文本      | "上一步" 按钮上的标签。                                                                                                                                                     |
| "下一步" 按钮 CSS 类     | 分配给 "下一步" 按钮的 CSS 类名。                                                                                                                                       |
| 提交按钮文本        | "下一步" 按钮上的标签。                                                                                                                                                         |
| 提交按钮 CSS 类   | 分配给 "提交" 按钮的 CSS 类名。 默认：按钮提交                                                                                                              |
| 提交按钮文本        | 提交按钮上的标签。 默认值为 "Submit"                                                                                                                                   |
| 提交按钮忙文本   | 正在运行的进程中的 "提交" 按钮上的标签。 默认值：正在处理 。                                                                                                     |
||

## <a name="associate-the-current-portal-user-with-the-creation-of-a-record"></a>将当前门户用户与创建记录关联

这些选项用于跟踪通过门户 UI 创建记录的门户联系人

| 名称                                       | 描述                                                                                                                                                                             |
|--------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 关联当前门户用户              | 选中表示当前登录用户的记录应与目标实体记录相关联。                                                                             |
| 目标实体门户用户查找属性 | 存储门户用户的目标实体上的属性的逻辑名称。                                                                                                     |
| 是活动方                          | 指示目标实体门户用户查找属性是否为活动方类型的布尔值。 请参阅[ActivityParty 实体](https://msdn.microsoft.com/library/gg328549.aspx) |  
||

## <a name="entity-reference"></a>实体参考

以下参数与保存窗体时设置实体引用相关。

这提供了一种方法，用于将由窗体创建或更新的当前记录与其他目标记录相关联。 如果你有多个具有多个实体类型的步骤，并且想要关联生成的记录，或者如果向页面传递了你要关联的记录 ID 的查询字符串，则这非常有用。 例如，我们有一个 "职业" 页，其中列出了作业发布，每个作业都有一个链接，指向作业的应用程序，该作业包含发布到应用程序窗体的作业的 id，因此，在创建应用程序时，作业发布与记录相关联。

| 名称                                 | 描述                                                                                                                                                    |
|---------------------------------|------------|
| 保存时设置实体引用         | 是或否。 如果值为 "是"，则指示在保存窗体时应分配一个实体引用，否则将不会设置任何值。                                                                                                                 |
| 关系名称                    | 两个实体类型之间给定关系的关系定义名称。<br>**注意**：如果指定目标查找属性逻辑名称，请不要指定关系名称。 
| 实体逻辑名称                  | 引用实体的逻辑名称。                |
| 目标查找属性逻辑名称 | 正在创建或更新的目标实体上的查找属性的逻辑名称。 <br>**注意**：如果指定目标查找属性逻辑名称，请不要指定关系名称。                                                                           |
| 填充查找字段                | 如果对引用实体的查找在窗体上，则选中此值将使用以下设置来填充窗体上的字段。                                                                                                                                                                                                                                                                               |
| 源类型                          | 以下值之一：<ul><li>查询字符串</li><li>当前门户用户</li><li>上一步的结果</li></ul>选择查询字符串需要参数名称，该名称必须在表单的 URL 的查询字符串中提供。 这可以在 "**查询字符串名称**" 字段中指定。 如果此参数为主键，则选择 "是" 作为**查询字符串的主键**，否则选择 "否"，并提供目标实体上的属性的逻辑名称，以在 "**查询属性逻辑名称**" 字段中指定进行查询。 选择 "当前门户用户" 将检索当前已经过身份验证的用户的联系人记录。 选择 "上一步" 中的 "结果" 将检索在当前步骤之前或基于与实体源步骤相关联的步骤的特定步骤中创建的记录。  |
| 引用实体步骤                | 用于检索在该步骤中创建或编辑的实体的前一步骤的 Web 窗体步骤记录，以将其与此当前步骤的记录相关联。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 查询字符串名称                    | 在包含 Web 窗体的网页的 URL 的查询字符串中提供的参数名称。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 查询字符串为主键          | "是" 表示查询字符串值为主键值。 "否" 表示查询字符串值是主键之外的属性类型。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 查询属性逻辑名称         | 用于查询记录的属性的逻辑名称。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 显示 ReadOnly 详细信息                | 选中指示窗体是否应呈现在页面顶部，显示与引用记录相关的只读信息。 要求使用窗体名称。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 窗体名称                            | 引用实体上用于显示只读详细信息的窗体的名称。                                                      |
||

## <a name="additional-functionality"></a>其他功能

|                              名称                              |                                                                                                                                                                                                                   描述                                                                                                                                                                                                                   |
|----------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                          附加文件                           |                                                                                                                                                          选中此选项可让窗体在窗体底部包含 "文件上传" 控件，以允许将文件附加到记录。                                                                                                                                                           |
|                      允许多个文件                      |                                                                                                                                                                                 一个布尔值，该值指示用户是否可以上传多个文件。                                                                                                                                                                                  |
|                             接受                             |                                                                                                                 Accept 特性指定服务器通过文件上传接受的文件 MIME 类型。 若要指定多个值，请用逗号分隔值（例如，"音频/\*"、"视频"/"\*"、"图像/\*"）。                                                                                                                 |
|                             标签                              |                                                                                          显示在文件上传控件旁边的文本。 对于为 Common Data Service 环境安装和启用的每个语言包，将可以使用字段以关联的语言输入消息。                                                                                           |
|                          是必需的                           |                                                                                                                                                                                           Checked 会使文件的附件继续进行。                                                                                                                                                                                           |
|                     必需的错误消息                     |                                                               如果需要，在窗体验证过程中显示的消息为 true，并且用户尚未附加文件。 对于为 Common Data Service 环境安装和启用的每个语言包，将可以使用字段以关联的语言输入消息。                                                                |
| 自定义 [!INCLUDE[pn-javascript](../../../includes/pn-javascript.md)] | 将添加到页面底部紧靠在结束窗体标记元素前面的 [!INCLUDE[pn-javascript](../../../includes/pn-javascript.md)] 自定义块。 实体字段的 HTML 输入 id 设置为属性的逻辑名称。 这使得可以使用 jQuery 轻松选择字段、设置值或其他客户端操作。 ``` $(document).ready(function() { $(#address1_stateorprovince).val(Saskatchewan); });``` |

### <a name="see-also"></a>另请参阅

[配置门户](configure-portal.md)  
[定义实体窗体](entity-forms.md)  
[门户的 Web 窗体步骤](web-form-steps.md)  
[重定向步骤类型](add-redirect-step.md)  
[条件步骤类型](add-conditional-step.md)  
[添加自定义 JavaScript](add-custom-javascript.md)  

