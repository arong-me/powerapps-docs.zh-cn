---
title: 为门户配置加载窗体和加载选项卡步骤类型 | MicrosoftDocs
description: 有关如何定义门户中的加载窗体和加载选项卡步骤类型的说明。
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 11/04/2019
ms.author: shjais
ms.reviewer: ''
ms.openlocfilehash: e9e1fe038562f78359db485c84a77bcc95118d82
ms.sourcegitcommit: d9cecdd5a35279d78aa1b6c9fc642e36a4e4612c
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/04/2019
ms.locfileid: "2760146"
---
# <a name="define-a-load-form-and-load-tab-step-type"></a>定义加载窗体和加载选项卡步骤类型

此步骤类型允许 Web 窗体步骤在整个 Web 窗体流程中充当实体窗体。 它将加载作为实体窗体提供的具有类似选项集的窗体。

## <a name="settings"></a>设置

| 客户                                  | 说明                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|---------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 客户                                  | 记录的描述性名称。 必填                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| 实体名称                           | 窗体将从中加载的实体的名称。 必填                                                                                                                                                                                                                                                                                                                                                                                                             |
| 表单名称                             | 要呈现的目标实体中的窗体的名称。 必填                                                                                                                                                                                                                                                                                                                                                                                                           |
| 选项卡名称                              | 要呈现的指定实体的窗体中的选项卡的名称。 可选                                                                                                                                                                                                                                                                                                                                                                                                  |
| 模式                                  | 以下值之一<br><ul><li>将</li><li>编辑</li><li>ReadOnly</li></ul>选择插入指示窗体应在提交后插入新记录。 指定编辑指示窗体应编辑记录。 选择“只读”指示窗体应显示现有记录的不可编辑窗体。 编辑和只读需要记录存在并且在“记录源类型”和“记录 ID 查询字符串参数名称”字段中指定参数以当窗体在门户中加载时选择相应的记录。  |
| 从选项卡自动生成步骤         | 选中指示在实体窗体中将显示多个选项，每个选项卡作为从第一个选项卡开始的顺序步骤，并继续直到所有选项卡导航到，并在最后提交后插入记录。 未选中是默认行为。 未选中值指示只有一个选项卡或窗体为当前步骤呈现。 如果选项卡名称未指定，则第一个选项卡将显示。                                              |
| 记录源类型                    | 以下值之一<br><ul><li>查询字符串</li><li>当前门户用户</li><li>先前步骤的结果</li></ul>选择查询字符串需要必须在窗体 URL 的查询字符串中提供的参数名称。 这可以在“记录 ID 查询字符串参数名称”字段中指定。 选择当前门户用户将检索当前通过身份验证的用户的门户用户 记录。<br>选择先前步骤的结果将检索为 Web 窗体上一步的记录源的记录。                                                                                                                                                                                                                                                                                                                                                          |
| 记录 ID 查询字符串参数名称 | 在包含该实体窗体的网页 URL 的查询字符串中提供的参数名称。                                                                                                                                                                                                                                                                                                                                                                                |
| 关系名称                     | 当记录源类型是与当前门户用户关联的记录时需要。 当前门户用户记录和目标记录之间的关系的逻辑名称。 这必须返回该实体名称字段指定的相同实体类型。                                                                                                                                                                                                                           |
| 允许为 Null 时创建                  | 当记录源类型为与当前门户用户关联的记录时可用的可选布尔值。 选中指示如果相关记录不存在，允许用户第一次创建它，否则记录不存在将引发异常，因为窗体需要一个绑定数据的记录。                                                                                                                                        |
| 启用实体权限             | 将导致窗体考虑实体权限。 默认为向后兼容原因是 False。 如果设置为 True，要访问窗体的所有用户都需要具有显式权限。 请注意，这仅适用于窗体的第一个步骤。                                                                                                                                                                                                                     |
||

## <a name="additional-settings"></a>其他设置

|                名称                |                                                                                 说明                                                                                 |
|------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    内联呈现 Web 资源     |                     清除在实体窗体中包含 Web 资源的 iFrame。                     |
|          已启用工具提示          |                                               使用目标实体的属性的说明设置工具提示。                                               |
|      显示不支持的字段       |       当前支持所有字段。 这为可能对字段类型进行的可能更改保留。       |
| 将建议的字段设置为必填 |                                     让所有属性都需要将字段需求级别设置为“建议的业务”。                                      |
|      让所有字段都是必填字段      |                                                    让所有字段都是必填字段，不论需求级别如何。                                                     |
|    验证摘要 CSS 类    |                               分派给验证汇总的 CSS 类名称。 默认：“验证汇总警报警报错误警报阻止”                                |
|  启用验证摘要链接   | 布尔值为 true 或 false 指示锚点链接是否应在验证汇总中呈现以滚动到包含错误的字段。 默认：true |
|    验证汇总链接文本    |                                                   分派给验证汇总链接的标签。 默认：单击此处                                                   |
|            说明            |                                                               在窗体顶部显示文本块。                                                               |
|      找不到记录消息      |                          当源记录不能加载时显示的消息。 默认：找不到您正在查找的记录。                           |

## <a name="form-options"></a>窗体选项

| 姓名                      | 说明                                                                                                                                                                       |
|---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 添加 Captcha               | 门户使用 Telerik 的 RadCaptcha 来防止恶意垃圾邮件的攻击。 此服务需要一个唯一密钥来验证您的门户应用程序的请求。 |
| 验证组          | 分派给用于评估已命名组的有效输入的输入控件的组名称。                                                                                             |
| “上一步”按钮 CSS 类 | 分派给“上一个”按钮的 CSS 类名称。                                                                                                                                   |
| “上一个”按钮文本      | 上一个按钮的标签。                                                                                                                                                     |
| “下一步”按钮 CSS 类     | 分派给下一个按钮的 CSS 类名称。                                                                                                                                       |
| 提交按钮文本        | 下一个按钮的标签。                                                                                                                                                         |
| “提交”按钮 CSS 类   | 分派给提交按钮的 CSS 类名称。 默认：按钮提交                                                                                                              |
| 提交按钮文本        | 提交按钮的标签。 默认为“提交”                                                                                                                                   |
| 提交按钮忙碌文本   | 在运行流程中的提交按钮的标签。 默认：正在处理…                                                                                                     |
||

## <a name="associate-the-current-portal-user-with-the-creation-of-a-record"></a>将当前门户用户与记录的创建关联

这些选项用于跟踪哪个门户联系人通过门户 UI 创建记录

| 客户                                       | 说明                                                                                                                                                                             |
|--------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 关联当前门户用户              | 选中指示当前登录的用户的记录应与目标实体记录关联。                                                                             |
| 目标实体门户用户查找属性 | 存储门户用户的目标实体的属性的逻辑名称。                                                                                                     |
| 为活动方                          | 布尔值指示目标实体门户用户查找属性是否属于活动方类型。 请参阅 [ActivityParty 实体](https://msdn.microsoft.com/library/gg328549.aspx) |  
||

## <a name="entity-reference"></a>实体引用

以下参数适合设置保存窗体时的实体引用。

这提供了将正在创建的当前记录或窗体更新的当前记录与其他目标记录关联的方法。 如果您的多个实体类型有多个步骤并希望关联结果记录，或如果页面被传送给您希望关联的记录 ID 的查询字符串，这非常有用。 例如，我们有一个列出职位公告的招聘页面，每个职位公告有一个指向包含申请表的职位公告的 ID 的工作的申请链接，这样，当创建应用程序时，职位公告将与记录关联。

| 客户                                 | 说明                                                                                                                                                    |
|---------------------------------|------------|
| 设置保存时的实体引用         | 是或否。 值“是”指示当保存窗体时应分派实体引用，否则任何内容不会设置。                                                                                                                 |
| 关系名称                    | 两个实体类型之间指定关系的关系定义名称。<br>**注意**：如果指定目标查找属性逻辑名称，请不要指定关系名称。 
| 实体逻辑名称                  | 引用实体的逻辑名称。                |
| 目标查找属性逻辑名称 | 创建或更新的目标实体的查找属性的逻辑名称。 <br>**注意**：如果指定目标查找属性逻辑名称，请不要指定关系名称。                                                                           |
| 填充查找字段                | 如果有关引用实体的查找在窗体中，选中此值将在窗体的字段中填充使用以下设置检索的值。                                                                                                                                                                                                                                                                               |
| 源类型                          | 以下值之一<ul><li>查询字符串</li><li>当前门户用户</li><li>先前步骤的结果</li></ul>选择查询字符串需要必须在窗体 URL 的查询字符串中提供的参数名称。 这可以在**查询字符串名称**字段中指定。 如果此参数是主键，那么为**查询字符串是主键**选择“是”，否则选择“否”，并在目标实体中为在**查询属性逻辑名称**字段中指定的查询提供属性的逻辑名称。 选择当前门户用户将检索当前通过身份验证的用户的联系人记录。 选择先前步骤的结果将检索在当前步骤前作为步骤结果创建的记录，或从基于与实体源步骤关联的步骤的特定步骤中创建的记录。  |
| 引用实体步骤                | 先前步骤的 Web 窗体步骤记录用以检查在该步骤中创建或编辑的实体，以将它与当前步骤的记录关联。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 查询字符串名称                    | 在包含该 Web 窗体的网页 URL 的查询字符串中提供的参数名称。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| 查询字符串是主键          | “是”指示查询字符串值是主键值。 “否”指示查询字符串值是除主键以外的属性类型。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 查询属性逻辑名称         | 要查询记录的属性的逻辑名称。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 显示 ReadOnly 详细信息                | 选中指示应在显示关于引用记录的只读信息的页面顶部呈现窗体。 需要窗体名称。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| 窗体名称                            | 应该用于显示只读详细信息的引用实体中的窗体的名称。                                                      |
||

## <a name="additional-functionality"></a>其他功能

|                              客户                              |                                                                                                                                                                                                                   说明                                                                                                                                                                                                                   |
|----------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                          附件文件                           |                                                                                                                                                          选中以使窗体将文件上载控件包括到窗体底部以允许将文件附加到记录。                                                                                                                                                           |
|                      允许多个文件                      |                                                                                                                                                                                 指示用户是否可以上载多个文件的布尔值。                                                                                                                                                                                  |
|                             接受                             |                                                                                                                 接受属性指定服务器通过文件上载接受的 MIME 文件类型。 若要指定多个值，请以逗号分隔值（例如，audio/\*,video/\*,image/\*）。                                                                                                                 |
|                             标签                              |                                                                                          在文件上载控件旁边显示的文本。 对于为 Common Data Service 环境安装和启用的每种语言包，将提供一个字段用以使用相关语言输入消息。                                                                                           |
|                          为必填                           |                                                                                                                                                                                           选中让需要的文件附件继续执行。                                                                                                                                                                                           |
|                     需要错误消息                     |                                                               如果“需要”为 true 且用户尚未附加文件，在窗体验证期间显示的消息。 对于为 Common Data Service 环境安装和启用的每种语言包，将提供一个字段用以使用相关语言输入消息。                                                                |
| 自定义[!INCLUDE[pn-javascript](../../../includes/pn-javascript.md)] | 将在关闭窗体标记元素前添加到页面底部的自定义 [!INCLUDE[pn-javascript](../../../includes/pn-javascript.md)] 块。 实体字段的 HTML 输入 ID 设置为属性的逻辑名称。 这通过使用 jQuery 让选择字段、设置或其他客户端操作变得轻松。 ``` $(document).ready(function() { $(#address1_stateorprovince).val(Saskatchewan); });``` |

### <a name="see-also"></a>另请参阅

[配置门户](configure-portal.md)  
[定义实体窗体](entity-forms.md)  
[门户的 Web 窗体步骤](web-form-steps.md)  
[重定向步骤类型](add-redirect-step.md)  
[条件步骤类型](add-conditional-step.md)  
[添加自定义 JavaScript](add-custom-javascript.md)  

