---
title: 为门户配置实体窗体和 Web 窗体上的注释 | MicrosoftDocs
description: 有关如何在门户中的实体窗体和 Web 窗体上添加和配置注释的说明。
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 10/07/2019
ms.author: shjais
ms.reviewer: ''
ms.openlocfilehash: 59ed66842874414737b7bdc04f0f4dfa51d212c8
ms.sourcegitcommit: d9cecdd5a35279d78aa1b6c9fc642e36a4e4612c
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/04/2019
ms.locfileid: "2756552"
---
# <a name="configure-notes-for-entity-forms-and-web-forms-on-portals"></a>为门户上的实体窗体和 Web 窗体配置注释

与使用子网格相似，将注释添加到门户中的“托管”窗体很简单&mdash;只需通过[窗体设计器](../model-driven-apps/create-design-forms.md)将注释控件添加到模型驱动应用窗体即可完成。 您可以使用元数据配置注释控件的行为。

> [!Note]                                                           
> 显式[实体权限](configure/assign-entity-permissions.md)是在门户中显示任何注释所必需的。 对于阅读和编辑，必须授予“阅读”和“撰写”权限。 对于创建，必须存在两种权限，具有“创建”和“追加”权限的权限必须为“注释（批注）”实体授予，第二个权限必须使用授予的“追加到”权限分派到注释要附加到的实体类型。 必须选中相应实体窗体或 Web 窗体步骤上的**启用实体权限**复选框，实体权限才会生效。

## <a name="notes-configuration-for-entity-forms"></a>实体窗体的注释配置

1. 打开[“门户管理”应用](configure/configure-portal.md)。
2. 转至**门户** > **内容** > **实体窗体**。 将显示可用实体窗体列表。
3. 选择要为其添加注释配置的实体窗体。
4. 通过使用顶部的下拉列表或您在操作的实体窗体记录的主窗体中的子网格转至**实体窗体元数据**。
5. 选择**添加新实体窗体元数据**添加新记录。
6. 从**类型**下拉列表选择**注释**。 将显示注释配置&ndash;特定的设置。 默认情况下，大多数设置已折叠。 可展开一个部分以查看更多设置。
7. 输入适当的值填写字段。 [!include[](../../includes/proc-more-information.md)] [属性](#attributes)、[“创建”对话框选项](#create-dialog-options)、[“编辑”对话框选项](#edit-dialog-options)和[“删除”对话框选项](#delete-dialog-options)
8. 保存该窗体。

    ![为实体窗体添加注释配置](media/add-note-configuration.png "为实体窗体添加注释配置")  

    在添加配置后，注释控件将使用门户中启用的相应选项呈现。

## <a name="attributes"></a>属性


| 姓名                  | 说明                                                                                                                                                  |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**    |                                                                                                                                                              |
| 已启用创建        | 启用将新注释添加到实体的功能。                                                                                                          |
| 创建对话框选项 | 当**已启用创建**为 true 时，包含配置对话框的设置。 更多详细信息请参阅”创建对话选项“。                                    |
| 已启用编辑          | 启用编辑实体中的现有注释的功能。                                                                                                    |
| 编辑对话框选项   | 当 **EditEnabled** 为 true 时，包含配置对话框的设置。 更多详细信息请参阅”编辑对话选项“。                                         |
| 已启用删除        | 启用从实体中删除注释的功能。                                                                                                         |
| \"删除\"对话框选项 | 当 **DeleteEnabled** 为 true 时，包含配置对话框的设置。 更多详细信息请参阅”删除对话选项“。                                     |
|文件附件位置 | 选择文件附件的位置：<ul><li>注释附件</li><li>Azure Blob 存储</li></ul>|
|接受 MIME 类型 | 可以指定将接受的 MIME 类型的列表。 |
|限制 MIME 类型 | 选择是否允许或限制 MIME 类型。|
|最大文件大小(KB) |可以指定可以附加的最大文件大小。 |
| **高级设置** |                                                                                                                                                              |
| 列表标题            | 覆盖注释区域的标题。                                                                                                                     |
| 添加注释按钮标签 | 覆盖”添加注释“按钮上的标签。                                                                                                                 |
| \"注释隐私\"标签    | 覆盖指示注释是”隐私“的标签。                                                                                                         |
| 加载消息       | 覆盖在加载注释列表时显示的消息。                                                                                              |
| 错误消息         | 覆盖在尝试加载注释列表时出现错误时显示的消息。                                                                     |
| 拒绝访问消息 | 覆盖当用户没有足够的权限查看注释列表时显示的消息。                                                    |
| 空消息         | 覆盖当当前实体没有任何可以查看的注释时显示的消息。                                                              |
| 列表顺序           | 您可以设置注释将显示的顺序。 可通过“列表顺序”设置来设置以下内容： <ul><li>属性：您要按其排序的列的逻辑名称</li><li>别名：查询中属性的别名</li><li>方向：升序（最小到最大，或第一个到最后一个），或降序（最大到最小，或最后一个到第一个）。</li></ul> ![设置列表顺序的属性](media/set-attributes-list-orders.png "S设置列表顺序的属性”) 若要添加排序规则，请选择“列”(4) 并填写详细信息。 列表顺序从具有最高优先级的列表顶部开始处理。|
||


## <a name="create-dialog-options"></a>创建对话框选项

| 姓名                               | 说明                                                                                                                                 |
|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**                 |                                                                                                                                             |
| 显示隐私选项字段      | 启用允许用户将注释标记为“隐私”的“添加注释”对话框中的复选框。                                                   |
| 隐私选项字段默认值 | 指定“显示隐私选项字段”复选框的默认值。 该字段的默认值为 False。                     |
| 显示附加文件                | 启用“添加注释”对话框中的文件上载字段，从而允许用户将文件附加到注释。                                             |
| 附加文件 - 接受                 | 文件上载输入接受的 MIME 类型。                                                                                            |
| **高级设置**              |                                                                                                                                             |
| 注释字段标签                   | 覆盖“添加注释”对话框中“注释”字段的标签。                                                                              |
| 注释字段列                 | 设置注释 &lt;textarea&gt; 中的 cols 值                                                                                            |
| 注释字段行                    | 设置注释 &lt;textarea&gt; 中的 rows 值                                                                                            |
| 隐私选项字段标签         | 覆盖隐私选项字段（如果启用）的标签。                                                                              |
| 附加文件标签                  | 覆盖“附加文件”字段（如果启用）的标签                                                                                  |
| 左栏 CSS 类              | 将 CSS 类或类添加到“添加注释”对话框中包含标签的最左列。                                                  |
| 右栏 CSS 类             | 将 CSS 类或类添加到“添加注释”对话框中包含字段输入的最右列。                                           |
| 标题                              | 覆盖“添加注释”对话框的标题中的 HTML 文本。                                                                               |
| 主按钮文本                | 覆盖显示在对话框中主（添加注释）按钮中显示的 HTML。                                                           |
| 取消按钮 SR 文本             | 覆盖与对话框的“取消”按钮关联的屏幕阅读器文本。                                                               |
| 关闭按钮文本                  | 覆盖显示在对话框中关闭（取消）按钮中显示的 HTML。                                                               |
| 大小                               | 指定“添加注释”对话框的大小。 选项是默认、大和小。 对于“添加注释”对话框，默认大小为“默认”。 |
| CSS                          | 指定将应用于生成的对话框的 CSS 类。                                                                |
| 标题 CSS 类                    | 指定将应用于生成的对话框标题栏的 CSS 类。                                                    |
| 主按钮 CSS 类           | 指定将应用于对话框的主（添加注释）按钮的 CSS 类或类。                                            |
| 关闭按钮 CSS 类             | 指定将应用于对话框的关闭（取消）按钮的 CSS 类。                                                |
|||

## <a name="edit-dialog-options"></a>编辑对话框选项

| 姓名                               | 说明                                                                                                                                   |
|------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|
| **基本设置**                 |                                                                                                                                               |
| 显示隐私选项字段      | 启用允许用户将注释标记为“隐私”的“编辑注释”对话框中的复选框。  |
| 隐私选项字段默认值 | 指定“显示隐私选项字段”复选框的默认值。 该字段的默认值为 False。   |
| 显示附加文件                | 启用“编辑注释”对话框中的文件上载字段，从而允许用户将文件附加到注释。                      |
| 附加文件 - 接受                 | 文件上载输入接受的 MIME 类型。 |
| **高级设置**              |                                                                                              |
| 注释字段标签                   | 覆盖“编辑注释”对话框中“注释”字段的标签。|
| 注释字段列                 | 设置注释 &lt;textarea&gt; 中的 cols 值                                                                                             |
| 注释字段行                    | 设置注释 &lt;textarea&gt; 中的 rows 值                                                                                             |
| 隐私选项字段标签         | 覆盖隐私选项字段（如果启用）的标签。                                                                                
| 附加文件标签                  | 覆盖“附加文件”字段（如果启用）的标签                                                                                   |
| 左栏 CSS 类              | 将 CSS 类或类添加到“编辑注释”对话框中包含标签的最左列。                                                  |
| 右栏 CSS 类             | 将 CSS 类或类添加到“编辑注释”对话框中包含字段输入的最右列。                                           |
| 标题                              | 覆盖“编辑注释”对话框的标题中的 HTML 文本。                                                                               |
| 主按钮文本                | 覆盖显示在对话框中主（更新注释）按钮中显示的 HTML。                                                         |
| 取消按钮 SR 文本             | 覆盖与对话框的“取消”按钮关联的屏幕阅读器文本。                                                                |
| 关闭按钮文本                  | 覆盖显示在对话框中关闭（取消）按钮中显示的 HTML。                                                                |
| 大小                               | 指定“编辑注释”对话框的大小。 选项是默认、大和小。 对于“编辑注释”对话框，默认大小为“默认”。|
| CSS                          | 指定将应用于生成的对话框的 CSS 类。                                                                 |
| 标题 CSS 类                    | 指定将应用于生成的对话框标题栏的 CSS 类或类。                                                     |
| 主按钮 CSS 类           | 指定将应用于对话框的主（更新注释）按钮的 CSS 类或类。                                          |
| 关闭按钮 CSS 类             | 指定将应用于对话框的关闭（取消）按钮的 CSS 类。                                                 |
|||

## <a name="delete-dialog-options"></a>\"删除\"对话框选项

| 姓名                     | 说明                                                                                                                                       |
|--------------------------|------------------------------|
| **基本设置**       |                                                                                                                                                   |
| 确认             | 覆盖确认消息以删除注释。                                                                                             |
| **高级设置**    |                                                                                                                                                   |
| 标题                    | 覆盖“删除注释”对话框的标题中的 HTML 文本。                                                                                  |
| 主按钮文本      | 覆盖显示在对话框中主（删除）按钮中显示的 HTML。                                                                   |
| 取消按钮 SR 文本   | 覆盖与对话框的“取消”按钮关联的屏幕阅读器文本。                                                                     |
| 关闭按钮文本        | 覆盖显示在对话框中关闭（取消）按钮中显示的 HTML。                                                                     |
| 大小                     | 指定“删除注释”对话框的大小。 选项是默认、大和小。 对于“删除注释”对话框，默认大小为“默认”。 |
| CSS                | 指定将应用于生成的对话框的 CSS 类。                                                                      |
| 标题 CSS 类          | 指定将应用于生成的对话框标题栏的 CSS 类。                                                          |
| 主按钮 CSS 类 | 指定将应用于对话框的主（删除）按钮的 CSS 类。                                                    |
| 关闭按钮 CSS 类   | 指定将应用于对话框的关闭（取消）按钮的 CSS 类。                                                      |
|||

### <a name="assign-entity-permissions"></a>分派实体权限

必须按照下面的说明创建适当的实体权限并分派给记录，否则将隐藏注释的**添加**、**编辑**和**删除**按钮：

- **活动(activitypointer)** 实体的“读取”、“写入”、“创建”、“追加”和“追加到”权限（范围为**全局**）。 必须将此实体权限与用户的 Web 角色关联。
- 其中启用了“注释”控件的实体的“读取”、“写入”、“创建”、“追加”和“追加到”权限。 范围应设置为**全局**。 必须将此实体权限与用户的 Web 角色关联。

    ![添加实体权限](media/entity-permission.png "添加实体权限")

    ![向实体权限添加 Web 角色](media/entity-permission-web-roles.png "向实体权限添加 Web 角色")

如果创建了自定义窗体，并向其添加了注释部分，请务必选择**注释**作为要显示的默认选项卡。

![自定义窗体中的注释](media/notes-activities-tab.png "自定义窗体中的注释")

## <a name="notes-configuration-for-web-forms"></a>Web 窗体的注释配置

Web 窗体注释的配置方法与[实体窗体注释](#notes-configuration-for-entity-forms)相同。 首先必须为具有注释的 Web 窗体步骤创建元数据记录，然后添加注释配置元数据。