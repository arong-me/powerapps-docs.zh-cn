---
title: Power Apps 中模型驱动应用主窗体的子网格属性 | MicrosoftDocs
description: 了解主窗体的子网格属性
Keywords: 主窗体; 子网格属性; Dynamics 365
author: Mattp123
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- powerapps
ms.author: matp
manager: kvivek
ms.date: 03/17/2020
ms.service: powerapps
ms.topic: article
ms.assetid: 82892cd3-3436-4677-b96b-f2ccd0a4f078
search.audienceType:
- maker
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: c71afbf34f2e74afbcbd31f67d9164606d80d83b
ms.sourcegitcommit: 9f2694bd14d70798310b89a4673672c1bfad989d
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/26/2020
ms.locfileid: "3167002"
---
# <a name="sub-grid-properties-for-model-driven-app-main-forms-overview"></a>模型驱动应用程序主窗体的子网格属性概述

可以配置窗体上的子网格以显示记录列表。  

您可以从 Power Apps 站点访问**子网格属性**。 
1.  登录到 [Power Apps](https://make.powerapps.com/?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc)。

2.  展开**数据**，选择**实体**，选择所需实体，然后选择**窗体**选项卡。 

3.  在窗体列表中，打开类型为**主要**的窗体，然后选择**组件**。 

4.  在“组件”窗格中，选择**子网格**。

    > [!div class="mx-imgBorder"] 
    > ![选择子网格视图](media/sub-grid-views.png "选择子网格视图")

5.  在**实体**中，选择要在子网格中显示其记录的实体。 将筛选**实体**下拉列表以仅列出与当前实体有关的实体。

6.  在**默认视图**中，选择子网格的默认视图。 这是在“实体”属性中选择的实体的视图，用于获取记录列表并在子网格中显示。

7.  选择**显示相关记录**以仅显示与窗体中显示的当前记录有关的记录。

8.  选择**完成**将子网格添加到窗体。 子网格的属性将出现在“属性”窗格中。

    > [!div class="mx-imgBorder"] 
    > ![子网格属性](media/newform-designer-sub-grid-properties.png "子网格属性")

|属性|说明|  
|--------------|-----------------|  
|**名称**|**必需**：子网格的唯一名称，在脚本中引用子网格时使用该名称。 该名称只能包含字母数字字符和下划线。|  
|**标签**|**必需**：可本地化的子网格标签，向用户显示。|  
|**隐藏标签**|是否应在窗体上显示标签。 如果启用**显示搜索框**，这是必需选项。 您也可以选择加入面板标题颜色。|  
|**在电话上隐藏**|指定分区是否应对手机提供。|
|**显示相关记录**| 子网格将仅显示与当前记录相关的记录。<br /> 如果您未选择此属性，子网格将显示仅按默认视图筛选的记录；如果启用了视图选择器，则显示按用户选择的视图筛选的记录。<br /><br /> 您选择的选项将影响显示列表控件的行为。 详细信息：[显示列表行为](#show-list-behavior) |  
|**实体**|根据您为**显示相关记录**选择的选项，此列表将显示以下两者之一：<br /><br /> - 仅相关记录：与此实体相关的实体列表，以及该实体上定义括号中关系的查找字段的名称。<br />- 所有记录类型：所有实体的列表。|  
|**默认视图**|选择将在默认情况下应用的视图。 如果您不使用**视图选择器** 属性启用其他任何视图。 这将是唯一的视图。<br /><br /> 使用**编辑** 按钮打开默认视图进行编辑。 使用**新建**按钮创建要用于此子网格的新视图。|  
|**允许用户更改视图**|选择后，应用程序用户可从默认视图切换到实体属性中选择的实体的另一个视图。|

## <a name="sub-grid-properties-for-model-driven-app-main-forms-classic"></a>模型驱动应用主窗体的子网格属性：经典

可以使用经典窗体设计器配置窗体上的子网格以显示记录列表或图表。 在**显示**选项卡上选择**仅显示图表** 可显示图表，而不显示列表。

  > [!div class="mx-imgBorder"] 
  > ![子网格属性](media/sub-grid-properties.png "子网格属性")

使用窗体中的子网格组件时，可使用经典窗体设计器配置一些属性。

|选项卡|属性|说明|  
|---------|--------------|-----------------|  
|**显示器**|**名称**|**必需**：子网格的唯一名称，在脚本中引用子网格时使用该名称。 该名称只能包含字母数字字符和下划线。|  
||**标签**|**必需**：可本地化的子网格标签，向用户显示。|  
||**在窗体上显示标签**|是否应在窗体上显示标签。 如果启用**显示搜索框**，这是必需选项。 您也可以选择加入面板标题颜色。|  
||**记录**|从两个选项中选择：<br /><br /> - **仅相关记录**：子网格将仅显示与当前记录相关的记录。<br />- **所有记录类型**：子网格将显示仅按默认视图筛选的记录；如果启用了视图选择器，则显示按用户选择的视图筛选的记录。<br /><br /> 您选择的选项将影响显示列表控件的行为。 详细信息：[显示列表行为](#show-list-behavior) |  
||**实体**|根据您为**记录**选择的选项，此列表将显示以下两者之一：<br /><br /> - **仅相关记录**：与此实体相关的实体列表，以及该实体上定义括号中关系的查找字段的名称。<br />- **所有记录类型**：所有实体的列表。|  
||**默认视图**|选择将在默认情况下应用的视图。 如果您不使用**视图选择器** 属性启用其他任何视图。 这将是唯一的视图。<br /><br /> 使用**编辑** 按钮打开默认视图进行编辑。 使用**新建**按钮创建要用于此子网格的新视图。|  
||**显示搜索框**|显示搜索框。 选择此选项时，需要**在窗体上显示标签** 选项。|  
||**显示索引**|只有[经典窗体](main-form-presentations.md#classic-forms)的窗体显示索引。<br /><br /> 如果希望随列表提供按字母顺序排列的索引，请选中此复选框。 这样您就可以跳转到以特定字母或数字开头的记录。|  
||**视图选择器**|有三个选项：<br /><br /> - **关**：只能使用用默认视图。<br />- **显示所有视图**：允许用户选择任何视图。<br />- **显示选定视图**：使用 Ctrl 键和鼠标选择可用于显示的视图。|  
||**默认图表**|选择当选择了**仅显示图表**时要显示的图表。|  
||**仅显示图表**|不显示记录列表，而显示图表。|  
||**显示图表选择**|如果选择了**仅显示图表**，则将允许用户选择不同的图表。|  
||**可用性**|指定分区是否应对手机提供。|
|**格式设置**|**布局**|**选择控件所占据的栏数**。<br /><br /> 当包含子网格的分区有多栏时，可以将字段设置为最多占据分区具有的栏数。|  
||**行布局**|**行数**将确定在子网格的一个页面上显示的记录数。<br /><br /> 如果选择了**自动扩展以利用可用空间**，窗体将留出两个记录的空间，并将随记录数的增加扩展空间。 如果数量超过了**行数**，用户可以导航到其他页面来查看记录。<br /><br /> 如果未选择**自动扩展以利用可用空间**，则窗体将为**行数** 定义的记录数量提供空间，用户可以导航到其他页面来查看更多记录。|  
|**控件**|**控件**|选择以添加控件，并选择单选按钮为 Web、手机或平板电脑加入控件。|
  
 在使用[经典窗体](main-form-presentations.md#classic-forms)的窗体中，可通过功能区对子网格执行操作。 开发人员可以自定义这些操作的行为，或通过自定义功能区来添加其他操作。  
  
 在使用[更新后的窗体](main-form-presentations.md#updated-forms)操作的窗体中，子网格操作放在子网格附近，因此很容易访问。 但是，命令栏不允许添加自定义操作。 开发人员可以编辑功能区来修改剩余的三项操作：显示列表、添加记录和删除记录。  
  

## <a name="show-list-behavior"></a>显示列表行为  
 在使用[更新后的窗体](main-form-presentations.md#updated-forms)在窗体中显示列表时，每个子网格会在右上角显示**打开视图**按钮 ![“打开视图”按钮](media/crm-itpro-cust-openview.PNG "打开“查看”按钮")，而实体也会作为窗体编辑器的导航区中包括的实体之一显示。 选择此按钮将打开该视图。 该行为将随为**记录**属性选择的选项而变化。  
  
 如果选择了**仅相关记录**，该视图打开时将使用同一个窗口中的关联视图之一。 若要返回到窗体，可使用返回按钮，或者在导航栏中选择当前记录主要名称值。  
  
 如果选择了**所有记录类型**，将在新窗口中打开视图。  

## <a name="add-record-behavior"></a>添加记录行为  
 在使用[更新后的窗体](main-form-presentations.md#updated-forms)在窗体中显示列表时，每个子网格会在该子网格的右侧显示**添加记录**按钮 ![“添加”按钮](media/crm-itpro-cust-subgridadd.PNG "“添加”按钮")。 选择此按钮可以添加记录。 此行为将随为**记录** 属性选择的选项以及查找是否用于活动记录而变化。  
  
 如果选择了**仅相关记录**，默认行为是添加现有记录。 用户会先看到一个用于搜索现有记录的内联查找。 这有助于防止创建重复记录。  如果找不到现有记录，则可选择**新建**选项。 在创建新记录时，将应用关系中定义的任何字段映射。 详细信息：[映射实体字段](../common-data-service/map-entity-fields.md)   
  
 选择**所有记录类型**时，默认行为是添加新记录。 如果目标实体有快速创建窗体，则将显示该窗体。 否则，将显示默认的实体主窗体。  
  
 如果子网格显示活动后，则用户首先需要选择活动类型，然后将看到“添加新记录”行为。  
  
## <a name="delete-record-behavior"></a>删除记录行为  
 在子网格中选择记录时，行右侧将出现**删除**按钮 ![子列表删除图标](media/crm-itpro-cust-subgriddelete.PNG "子列表删除图标")。 此删除操作行为会因为与当前实体的关系类型而有所不同。  
  
 当子网格使用 1:N（一对多）关系时，正常的记录删除行为是在删除记录前显示确认对话框。  
  
 当子网格使用 N:N（多对多）关系时，将删除与两个记录相关的关系（或相交）实体中的记录，但不确认；子网格中将不再显示该记录。 但是，不会删除显示的记录。  

## <a name="next-steps"></a>后续步骤

[使用“主”窗体及其组件](use-main-form-and-components.md)
